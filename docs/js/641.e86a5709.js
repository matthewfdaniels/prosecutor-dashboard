"use strict";(self["webpackChunkprosecutor_dashboard"]=self["webpackChunkprosecutor_dashboard"]||[]).push([[641],{6641:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ec}});var o=n(6768);const i={class:"background"};function r(e,t,n,r,a,s){const l=(0,o.g2)("Flowchart");return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.bF)(l)])}const a={class:"flowchart"},s=(0,o.Fv)('<section class="box pre"><h3>Social Context</h3><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p></section><div class="flowchart-bg"></div><section class="box intro"><h2>Prosecution Process</h2><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p></section><section class="box more"><h2>Trial Begins</h2><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p></section><section class="box conclusion"><h3>Outcomes</h3><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p></section>',5),l={key:0,class:"scrim"};function u(e,t,n,i,r,u){const c=(0,o.g2)("CustomNode"),d=(0,o.g2)("VueFlow"),h=(0,o.g2)("NodeTakeover");return(0,o.uX)(),(0,o.CE)("div",a,[s,(0,o.bF)(d,{modelValue:r.elements,"onUpdate:modelValue":t[0]||(t[0]=e=>r.elements=e),class:"basicflow customnodeflow","default-zoom":1,"min-zoom":1,"max-zoom":1,"nodes-draggable":!1,nodeTypes:r.nodeTypes,onPaneReady:e.onLoad,"connection-mode":e.connectionMode,"connection-line-style":e.connectionLineStyle,"fit-view-on-init":!0},{"node-custom":(0,o.k6)((e=>[(0,o.bF)(c,{data:e.data},null,8,["data"])])),_:1},8,["modelValue","nodeTypes","onPaneReady","connection-mode","connection-line-style"]),r.showTakeover?((0,o.uX)(),(0,o.CE)("div",l)):(0,o.Q3)("",!0),r.showTakeover?((0,o.uX)(),(0,o.Wv)(h,{key:1,class:"takeover",model:r.currentNode,onClose:u.closeTakeover},null,8,["model","onClose"])):(0,o.Q3)("",!0)])}n(4114);var c,d=n(144),h=n(4232);const p="undefined"!==typeof window,f=e=>"undefined"!==typeof e,v=e=>"function"===typeof e,g=e=>"string"===typeof e,m=()=>{};function y(e){return"function"===typeof e?e():(0,d.R1)(e)}function b(e,t){function n(...n){e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})}return n}p&&(null==(c=null==window?void 0:window.navigator)?void 0:c.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const w=e=>e();function x(e=w){const t=(0,d.KR)(!0);function n(){t.value=!1}function o(){t.value=!0}const i=(...n)=>{t.value&&e(...n)};return{isActive:t,pause:n,resume:o,eventFilter:i}}function k(e,t=!1,n="Timeout"){return new Promise(((o,i)=>{t?setTimeout((()=>i(n)),e):setTimeout(o,e)}))}function _(e){return e}function E(e,t){let n,i,r;const a=(0,d.KR)(!0),s=()=>{a.value=!0,r()};(0,o.wB)(e,s,{flush:"sync"});const l=v(t)?t:t.get,u=v(t)?void 0:t.set,c=(0,d.rY)(((e,t)=>(i=e,r=t,{get(){return a.value&&(n=l(),a.value=!1),i(),n},set(e){null==u||u(e)}})));return Object.isExtensible(c)&&(c.trigger=s),c}function S(){const e=[],t=t=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)},n=n=>(e.push(n),{off:()=>t(n)}),o=t=>{e.forEach((e=>e(t)))};return{on:n,off:t,trigger:o}}function C(e){return!!(0,d.o5)()&&((0,d.jr)(e),!0)}function N(e,t=!0){(0,o.nI)()?(0,o.sV)(e):t?e():(0,o.dY)(e)}function M(e,t=!1){function n(n,{flush:i="sync",deep:r=!1,timeout:a,throwOnTimeout:s}={}){let l=null;const u=new Promise((a=>{l=(0,o.wB)(e,(e=>{n(e)!==t&&(null==l||l(),a(e))}),{flush:i,deep:r,immediate:!0})})),c=[u];return null!=a&&c.push(k(a,s).then((()=>y(e))).finally((()=>null==l?void 0:l()))),Promise.race(c)}function i(i,r){if(!(0,d.i9)(i))return n((e=>e===i),r);const{flush:a="sync",deep:s=!1,timeout:l,throwOnTimeout:u}=null!=r?r:{};let c=null;const h=new Promise((n=>{c=(0,o.wB)([e,i],(([e,o])=>{t!==(e===o)&&(null==c||c(),n(e))}),{flush:a,deep:s,immediate:!0})})),p=[h];return null!=l&&p.push(k(l,u).then((()=>y(e))).finally((()=>(null==c||c(),y(e))))),Promise.race(p)}function r(e){return n((e=>Boolean(e)),e)}function a(e){return i(null,e)}function s(e){return i(void 0,e)}function l(e){return n(Number.isNaN,e)}function u(e,t){return n((t=>{const n=Array.from(t);return n.includes(e)||n.includes(y(e))}),t)}function c(e){return h(1,e)}function h(e=1,t){let o=-1;return n((()=>(o+=1,o>=e)),t)}if(Array.isArray(y(e))){const o={toMatch:n,toContains:u,changed:c,changedTimes:h,get not(){return M(e,!t)}};return o}{const o={toMatch:n,toBe:i,toBeTruthy:r,toBeNull:a,toBeNaN:l,toBeUndefined:s,changed:c,changedTimes:h,get not(){return M(e,!t)}};return o}}function T(e){return M(e)}var B=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,W=(e,t)=>{var n={};for(var o in e)P.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&B)for(var o of B(e))t.indexOf(o)<0&&R.call(e,o)&&(n[o]=e[o]);return n};function I(e,t,n={}){const i=n,{eventFilter:r=w}=i,a=W(i,["eventFilter"]);return(0,o.wB)(e,b(r,t),a)}var O=Object.defineProperty,$=Object.defineProperties,X=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,L=(e,t,n)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y=(e,t)=>{for(var n in t||(t={}))A.call(t,n)&&L(e,n,t[n]);if(z)for(var n of z(t))H.call(t,n)&&L(e,n,t[n]);return e},D=(e,t)=>$(e,X(t)),V=(e,t)=>{var n={};for(var o in e)A.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&z)for(var o of z(e))t.indexOf(o)<0&&H.call(e,o)&&(n[o]=e[o]);return n};function j(e,t,n={}){const o=n,{eventFilter:i}=o,r=V(o,["eventFilter"]),{eventFilter:a,pause:s,resume:l,isActive:u}=x(i),c=I(e,t,D(Y({},r),{eventFilter:a}));return{stop:c,pause:s,resume:l,isActive:u}}function F(e){var t;const n=y(e);return null!=(t=null==n?void 0:n.$el)?t:n}const q=p?window:void 0;function K(...e){let t,n,i,r;if(g(e[0])?([n,i,r]=e,t=q):[t,n,i,r]=e,!t)return m;let a=m;const s=(0,o.wB)((()=>F(t)),(e=>{a(),e&&(e.addEventListener(n,i,r),a=()=>{e.removeEventListener(n,i,r),a=m})}),{immediate:!0,flush:"post"}),l=()=>{s(),a()};return C(l),l}const U=e=>"function"===typeof e?e:"string"===typeof e?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0;function G(...e){let t,n,o={};3===e.length?(t=e[0],n=e[1],o=e[2]):2===e.length?"object"===typeof e[1]?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=q,eventName:r="keydown",passive:a=!1}=o,s=U(t),l=e=>{s(e)&&n(e)};return K(i,r,l,a)}function Z(e,t=null){const n=(0,o.nI)();let i=()=>{};const r=(0,d.rY)(((o,r)=>(i=r,{get(){var i,r;return o(),null!=(r=null==(i=null==n?void 0:n.proxy)?void 0:i.$refs[e])?r:t},set(){}})));return N(i),(0,o.$u)(i),r}function Q(e,t=!1){const n=(0,d.KR)(),o=()=>n.value=Boolean(e());return o(),N(o,t),n}function J(e){return JSON.parse(JSON.stringify(e))}const ee="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},te="__vueuse_ssr_handlers__";ee[te]=ee[te]||{},ee[te];var ne,oe=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,ae=(e,t)=>{var n={};for(var o in e)ie.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&oe)for(var o of oe(e))t.indexOf(o)<0&&re.call(e,o)&&(n[o]=e[o]);return n};function se(e,t,n={}){const i=n,{window:r=q}=i,a=ae(i,["window"]);let s;const l=Q((()=>r&&"ResizeObserver"in r)),u=()=>{s&&(s.disconnect(),s=void 0)},c=(0,o.wB)((()=>F(e)),(e=>{u(),l.value&&r&&e&&(s=new ResizeObserver(t),s.observe(e,a))}),{immediate:!0,flush:"post"}),d=()=>{u(),c()};return C(d),{isSupported:l,stop:d}}(function(e){e["UP"]="UP",e["RIGHT"]="RIGHT",e["DOWN"]="DOWN",e["LEFT"]="LEFT",e["NONE"]="NONE"})(ne||(ne={}));var le=Object.defineProperty,ue=Object.getOwnPropertySymbols,ce=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,he=(e,t,n)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pe=(e,t)=>{for(var n in t||(t={}))ce.call(t,n)&&he(e,n,t[n]);if(ue)for(var n of ue(t))de.call(t,n)&&he(e,n,t[n]);return e};const fe={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};function ve(e,t,n,i={}){var r,a,s;const{clone:l=!1,passive:u=!1,eventName:c,deep:h=!1,defaultValue:p}=i,g=(0,o.nI)(),m=n||(null==g?void 0:g.emit)||(null==(r=null==g?void 0:g.$emit)?void 0:r.bind(g))||(null==(s=null==(a=null==g?void 0:g.proxy)?void 0:a.$emit)?void 0:s.bind(null==g?void 0:g.proxy));let y=c;t||(t="modelValue"),y=c||y||`update:${t.toString()}`;const b=e=>l?v(l)?l(e):J(e):e,w=()=>f(e[t])?b(e[t]):p;if(u){const n=w(),i=(0,d.KR)(n);return(0,o.wB)((()=>e[t]),(e=>i.value=b(e))),(0,o.wB)(i,(n=>{(n!==e[t]||h)&&m(y,n)}),{deep:h}),i}return(0,o.EW)({get(){return w()},set(e){m(y,e)}})}pe({linear:_},fe);var ge={value:()=>{}};function me(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw new Error("illegal type: "+e);o[e]=[]}return new ye(o)}function ye(e){this._=e}function be(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",o=e.indexOf(".");if(o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function we(e,t){for(var n,o=0,i=e.length;o<i;++o)if((n=e[o]).name===t)return n.value}function xe(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=ge,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=n&&e.push({name:t,value:n}),e}ye.prototype=me.prototype={constructor:ye,on:function(e,t){var n,o=this._,i=be(e+"",o),r=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);while(++r<a)if(n=(e=i[r]).type)o[n]=xe(o[n],e.name,t);else if(null==t)for(n in o)o[n]=xe(o[n],e.name,null);return this}while(++r<a)if((n=(e=i[r]).type)&&(n=we(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ye(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,n=o.length;r<n;++r)o[r].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)}};var ke="http://www.w3.org/1999/xhtml",_e={svg:"http://www.w3.org/2000/svg",xhtml:ke,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ee(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),_e.hasOwnProperty(t)?{space:_e[t],local:e}:e}function Se(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ke&&t.documentElement.namespaceURI===ke?t.createElement(e):t.createElementNS(n,e)}}function Ce(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ne(e){var t=Ee(e);return(t.local?Ce:Se)(t)}function Me(){}function Te(e){return null==e?Me:function(){return this.querySelector(e)}}function Be(e){"function"!==typeof e&&(e=Te(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r,a,s=t[i],l=s.length,u=o[i]=new Array(l),c=0;c<l;++c)(r=s[c])&&(a=e.call(r,r.__data__,c,s))&&("__data__"in r&&(a.__data__=r.__data__),u[c]=a);return new bn(o,this._parents)}function Pe(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function Re(){return[]}function We(e){return null==e?Re:function(){return this.querySelectorAll(e)}}function Ie(e){return function(){return Pe(e.apply(this,arguments))}}function Oe(e){e="function"===typeof e?Ie(e):We(e);for(var t=this._groups,n=t.length,o=[],i=[],r=0;r<n;++r)for(var a,s=t[r],l=s.length,u=0;u<l;++u)(a=s[u])&&(o.push(e.call(a,a.__data__,u,s)),i.push(a));return new bn(o,i)}function $e(e){return function(){return this.matches(e)}}function Xe(e){return function(t){return t.matches(e)}}var ze=Array.prototype.find;function Ae(e){return function(){return ze.call(this.children,e)}}function He(){return this.firstElementChild}function Le(e){return this.select(null==e?He:Ae("function"===typeof e?e:Xe(e)))}var Ye=Array.prototype.filter;function De(){return Array.from(this.children)}function Ve(e){return function(){return Ye.call(this.children,e)}}function je(e){return this.selectAll(null==e?De:Ve("function"===typeof e?e:Xe(e)))}function Fe(e){"function"!==typeof e&&(e=$e(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r,a=t[i],s=a.length,l=o[i]=[],u=0;u<s;++u)(r=a[u])&&e.call(r,r.__data__,u,a)&&l.push(r);return new bn(o,this._parents)}function qe(e){return new Array(e.length)}function Ke(){return new bn(this._enter||this._groups.map(qe),this._parents)}function Ue(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Ge(e){return function(){return e}}function Ze(e,t,n,o,i,r){for(var a,s=0,l=t.length,u=r.length;s<u;++s)(a=t[s])?(a.__data__=r[s],o[s]=a):n[s]=new Ue(e,r[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function Qe(e,t,n,o,i,r,a){var s,l,u,c=new Map,d=t.length,h=r.length,p=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(p[s]=u=a.call(l,l.__data__,s,t)+"",c.has(u)?i[s]=l:c.set(u,l));for(s=0;s<h;++s)u=a.call(e,r[s],s,r)+"",(l=c.get(u))?(o[s]=l,l.__data__=r[s],c.delete(u)):n[s]=new Ue(e,r[s]);for(s=0;s<d;++s)(l=t[s])&&c.get(p[s])===l&&(i[s]=l)}function Je(e){return e.__data__}function et(e,t){if(!arguments.length)return Array.from(this,Je);var n=t?Qe:Ze,o=this._parents,i=this._groups;"function"!==typeof e&&(e=Ge(e));for(var r=i.length,a=new Array(r),s=new Array(r),l=new Array(r),u=0;u<r;++u){var c=o[u],d=i[u],h=d.length,p=tt(e.call(c,c&&c.__data__,u,o)),f=p.length,v=s[u]=new Array(f),g=a[u]=new Array(f),m=l[u]=new Array(h);n(c,d,v,g,m,p,t);for(var y,b,w=0,x=0;w<f;++w)if(y=v[w]){w>=x&&(x=w+1);while(!(b=g[x])&&++x<f);y._next=b||null}}return a=new bn(a,o),a._enter=s,a._exit=l,a}function tt(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function nt(){return new bn(this._exit||this._groups.map(qe),this._parents)}function ot(e,t,n){var o=this.enter(),i=this,r=this.exit();return"function"===typeof e?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),null!=t&&(i=t(i),i&&(i=i.selection())),null==n?r.remove():n(r),o&&i?o.merge(i).order():i}function it(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,r=o.length,a=Math.min(i,r),s=new Array(i),l=0;l<a;++l)for(var u,c=n[l],d=o[l],h=c.length,p=s[l]=new Array(h),f=0;f<h;++f)(u=c[f]||d[f])&&(p[f]=u);for(;l<i;++l)s[l]=n[l];return new bn(s,this._parents)}function rt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,i=e[t],r=i.length-1,a=i[r];--r>=0;)(o=i[r])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this}function at(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=st);for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a,s=n[r],l=s.length,u=i[r]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new bn(i,this._parents).order()}function st(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function lt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ut(){return Array.from(this)}function ct(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null}function dt(){let e=0;for(const t of this)++e;return e}function ht(){return!this.node()}function pt(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i,r=t[n],a=0,s=r.length;a<s;++a)(i=r[a])&&e.call(i,i.__data__,a,r);return this}function ft(e){return function(){this.removeAttribute(e)}}function vt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gt(e,t){return function(){this.setAttribute(e,t)}}function mt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yt(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function bt(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function wt(e,t){var n=Ee(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?vt:ft:"function"===typeof t?n.local?bt:yt:n.local?mt:gt)(n,t))}function xt(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function kt(e){return function(){this.style.removeProperty(e)}}function _t(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Et(e,t,n){return function(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function St(e,t,n){return arguments.length>1?this.each((null==t?kt:"function"===typeof t?Et:_t)(e,t,null==n?"":n)):Ct(this.node(),e)}function Ct(e,t){return e.style.getPropertyValue(t)||xt(e).getComputedStyle(e,null).getPropertyValue(t)}function Nt(e){return function(){delete this[e]}}function Mt(e,t){return function(){this[e]=t}}function Tt(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Bt(e,t){return arguments.length>1?this.each((null==t?Nt:"function"===typeof t?Tt:Mt)(e,t)):this.node()[e]}function Pt(e){return e.trim().split(/^|\s+/)}function Rt(e){return e.classList||new Wt(e)}function Wt(e){this._node=e,this._names=Pt(e.getAttribute("class")||"")}function It(e,t){var n=Rt(e),o=-1,i=t.length;while(++o<i)n.add(t[o])}function Ot(e,t){var n=Rt(e),o=-1,i=t.length;while(++o<i)n.remove(t[o])}function $t(e){return function(){It(this,e)}}function Xt(e){return function(){Ot(this,e)}}function zt(e,t){return function(){(t.apply(this,arguments)?It:Ot)(this,e)}}function At(e,t){var n=Pt(e+"");if(arguments.length<2){var o=Rt(this.node()),i=-1,r=n.length;while(++i<r)if(!o.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?zt:t?$t:Xt)(n,t))}function Ht(){this.textContent=""}function Lt(e){return function(){this.textContent=e}}function Yt(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Dt(e){return arguments.length?this.each(null==e?Ht:("function"===typeof e?Yt:Lt)(e)):this.node().textContent}function Vt(){this.innerHTML=""}function jt(e){return function(){this.innerHTML=e}}function Ft(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function qt(e){return arguments.length?this.each(null==e?Vt:("function"===typeof e?Ft:jt)(e)):this.node().innerHTML}function Kt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ut(){return this.each(Kt)}function Gt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zt(){return this.each(Gt)}function Qt(e){var t="function"===typeof e?e:Ne(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}function Jt(){return null}function en(e,t){var n="function"===typeof e?e:Ne(e),o=null==t?Jt:"function"===typeof t?t:Te(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)}))}function tn(){var e=this.parentNode;e&&e.removeChild(this)}function nn(){return this.each(tn)}function on(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rn(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function an(e){return this.select(e?rn:on)}function sn(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ln(e){return function(t){e.call(this,t,this.__data__)}}function un(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function cn(e){return function(){var t=this.__on;if(t){for(var n,o=0,i=-1,r=t.length;o<r;++o)n=t[o],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function dn(e,t,n){return function(){var o,i=this.__on,r=ln(t);if(i)for(var a=0,s=i.length;a<s;++a)if((o=i[a]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),void(o.value=t);this.addEventListener(e.type,r,n),o={type:e.type,name:e.name,value:t,listener:r,options:n},i?i.push(o):this.__on=[o]}}function hn(e,t,n){var o,i,r=un(e+""),a=r.length;if(!(arguments.length<2)){for(s=t?dn:cn,o=0;o<a;++o)this.each(s(r[o],t,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(o=0,l=s[u];o<a;++o)if((i=r[o]).type===l.type&&i.name===l.name)return l.value}function pn(e,t,n){var o=xt(e),i=o.CustomEvent;"function"===typeof i?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function fn(e,t){return function(){return pn(this,e,t)}}function vn(e,t){return function(){return pn(this,e,t.apply(this,arguments))}}function gn(e,t){return this.each(("function"===typeof t?vn:fn)(e,t))}function*mn(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o,i=e[t],r=0,a=i.length;r<a;++r)(o=i[r])&&(yield o)}Ue.prototype={constructor:Ue,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},Wt.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var yn=[null];function bn(e,t){this._groups=e,this._parents=t}function wn(){return new bn([[document.documentElement]],yn)}function xn(){return this}function kn(e){return"string"===typeof e?new bn([[document.querySelector(e)]],[document.documentElement]):new bn([[e]],yn)}function _n(e){let t;while(t=e.sourceEvent)e=t;return e}function En(e,t){if(e=_n(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}bn.prototype=wn.prototype={constructor:bn,select:Be,selectAll:Oe,selectChild:Le,selectChildren:je,filter:Fe,data:et,enter:Ke,exit:nt,join:ot,merge:it,selection:xn,order:rt,sort:at,call:lt,nodes:ut,node:ct,size:dt,empty:ht,each:pt,attr:wt,style:St,property:Bt,classed:At,text:Dt,html:qt,raise:Ut,lower:Zt,append:Qt,insert:en,remove:nn,clone:an,datum:sn,on:hn,dispatch:gn,[Symbol.iterator]:mn};const Sn={passive:!1},Cn={capture:!0,passive:!1};function Nn(e){e.stopImmediatePropagation()}function Mn(e){e.preventDefault(),e.stopImmediatePropagation()}function Tn(e){var t=e.document.documentElement,n=kn(e).on("dragstart.drag",Mn,Cn);"onselectstart"in t?n.on("selectstart.drag",Mn,Cn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Bn(e,t){var n=e.document.documentElement,o=kn(e).on("dragstart.drag",null);t&&(o.on("click.drag",Mn,Cn),setTimeout((function(){o.on("click.drag",null)}),0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Pn=e=>()=>e;function Rn(e,{sourceEvent:t,subject:n,target:o,identifier:i,active:r,x:a,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}function Wn(e){return!e.ctrlKey&&!e.button}function In(){return this.parentNode}function On(e,t){return null==t?{x:e.x,y:e.y}:t}function $n(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xn(){var e,t,n,o,i=Wn,r=In,a=On,s=$n,l={},u=me("start","drag","end"),c=0,d=0;function h(e){e.on("mousedown.drag",p).filter(s).on("touchstart.drag",g).on("touchmove.drag",m,Sn).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(a,s){if(!o&&i.call(this,a,s)){var l=b(this,r.call(this,a,s),a,s,"mouse");l&&(kn(a.view).on("mousemove.drag",f,Cn).on("mouseup.drag",v,Cn),Tn(a.view),Nn(a),n=!1,e=a.clientX,t=a.clientY,l("start",a))}}function f(o){if(Mn(o),!n){var i=o.clientX-e,r=o.clientY-t;n=i*i+r*r>d}l.mouse("drag",o)}function v(e){kn(e.view).on("mousemove.drag mouseup.drag",null),Bn(e.view,n),Mn(e),l.mouse("end",e)}function g(e,t){if(i.call(this,e,t)){var n,o,a=e.changedTouches,s=r.call(this,e,t),l=a.length;for(n=0;n<l;++n)(o=b(this,s,e,t,a[n].identifier,a[n]))&&(Nn(e),o("start",e,a[n]))}}function m(e){var t,n,o=e.changedTouches,i=o.length;for(t=0;t<i;++t)(n=l[o[t].identifier])&&(Mn(e),n("drag",e,o[t]))}function y(e){var t,n,i=e.changedTouches,r=i.length;for(o&&clearTimeout(o),o=setTimeout((function(){o=null}),500),t=0;t<r;++t)(n=l[i[t].identifier])&&(Nn(e),n("end",e,i[t]))}function b(e,t,n,o,i,r){var s,d,p,f=u.copy(),v=En(r||n,t);if(null!=(p=a.call(e,new Rn("beforestart",{sourceEvent:n,target:h,identifier:i,active:c,x:v[0],y:v[1],dx:0,dy:0,dispatch:f}),o)))return s=p.x-v[0]||0,d=p.y-v[1]||0,function n(r,a,u){var g,m=v;switch(r){case"start":l[i]=n,g=c++;break;case"end":delete l[i],--c;case"drag":v=En(u||a,t),g=c;break}f.call(r,e,new Rn(r,{sourceEvent:a,subject:p,target:h,identifier:i,active:g,x:v[0]+s,y:v[1]+d,dx:v[0]-m[0],dy:v[1]-m[1],dispatch:f}),o)}}return h.filter=function(e){return arguments.length?(i="function"===typeof e?e:Pn(!!e),h):i},h.container=function(e){return arguments.length?(r="function"===typeof e?e:Pn(e),h):r},h.subject=function(e){return arguments.length?(a="function"===typeof e?e:Pn(e),h):a},h.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Pn(!!e),h):s},h.on=function(){var e=u.on.apply(u,arguments);return e===u?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h}function zn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function An(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Hn(){}Rn.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Ln=.7,Yn=1/Ln,Dn="\\s*([+-]?\\d+)\\s*",Vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fn=/^#([0-9a-f]{3,8})$/,qn=new RegExp(`^rgb\\(${Dn},${Dn},${Dn}\\)$`),Kn=new RegExp(`^rgb\\(${jn},${jn},${jn}\\)$`),Un=new RegExp(`^rgba\\(${Dn},${Dn},${Dn},${Vn}\\)$`),Gn=new RegExp(`^rgba\\(${jn},${jn},${jn},${Vn}\\)$`),Zn=new RegExp(`^hsl\\(${Vn},${jn},${jn}\\)$`),Qn=new RegExp(`^hsla\\(${Vn},${jn},${jn},${Vn}\\)$`),Jn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function eo(){return this.rgb().formatHex()}function to(){return this.rgb().formatHex8()}function no(){return yo(this).formatHsl()}function oo(){return this.rgb().formatRgb()}function io(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Fn.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ro(t):3===n?new uo(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ao(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ao(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=qn.exec(e))?new uo(t[1],t[2],t[3],1):(t=Kn.exec(e))?new uo(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Un.exec(e))?ao(t[1],t[2],t[3],t[4]):(t=Gn.exec(e))?ao(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Zn.exec(e))?mo(t[1],t[2]/100,t[3]/100,1):(t=Qn.exec(e))?mo(t[1],t[2]/100,t[3]/100,t[4]):Jn.hasOwnProperty(e)?ro(Jn[e]):"transparent"===e?new uo(NaN,NaN,NaN,0):null}function ro(e){return new uo(e>>16&255,e>>8&255,255&e,1)}function ao(e,t,n,o){return o<=0&&(e=t=n=NaN),new uo(e,t,n,o)}function so(e){return e instanceof Hn||(e=io(e)),e?(e=e.rgb(),new uo(e.r,e.g,e.b,e.opacity)):new uo}function lo(e,t,n,o){return 1===arguments.length?so(e):new uo(e,t,n,null==o?1:o)}function uo(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}function co(){return`#${go(this.r)}${go(this.g)}${go(this.b)}`}function ho(){return`#${go(this.r)}${go(this.g)}${go(this.b)}${go(255*(isNaN(this.opacity)?1:this.opacity))}`}function po(){const e=fo(this.opacity);return`${1===e?"rgb(":"rgba("}${vo(this.r)}, ${vo(this.g)}, ${vo(this.b)}${1===e?")":`, ${e})`}`}function fo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function go(e){return e=vo(e),(e<16?"0":"")+e.toString(16)}function mo(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new wo(e,t,n,o)}function yo(e){if(e instanceof wo)return new wo(e.h,e.s,e.l,e.opacity);if(e instanceof Hn||(e=io(e)),!e)return new wo;if(e instanceof wo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),r=Math.max(t,n,o),a=NaN,s=r-i,l=(r+i)/2;return s?(a=t===r?(n-o)/s+6*(n<o):n===r?(o-t)/s+2:(t-n)/s+4,s/=l<.5?r+i:2-r-i,a*=60):s=l>0&&l<1?0:a,new wo(a,s,l,e.opacity)}function bo(e,t,n,o){return 1===arguments.length?yo(e):new wo(e,t,n,null==o?1:o)}function wo(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}function xo(e){return e=(e||0)%360,e<0?e+360:e}function ko(e){return Math.max(0,Math.min(1,e||0))}function _o(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}zn(Hn,io,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eo,formatHex:eo,formatHex8:to,formatHsl:no,formatRgb:oo,toString:oo}),zn(uo,lo,An(Hn,{brighter(e){return e=null==e?Yn:Math.pow(Yn,e),new uo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Ln:Math.pow(Ln,e),new uo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new uo(vo(this.r),vo(this.g),vo(this.b),fo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:co,formatHex:co,formatHex8:ho,formatRgb:po,toString:po})),zn(wo,bo,An(Hn,{brighter(e){return e=null==e?Yn:Math.pow(Yn,e),new wo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Ln:Math.pow(Ln,e),new wo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new uo(_o(e>=240?e-240:e+120,i,o),_o(e,i,o),_o(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new wo(xo(this.h),ko(this.s),ko(this.l),fo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fo(this.opacity);return`${1===e?"hsl(":"hsla("}${xo(this.h)}, ${100*ko(this.s)}%, ${100*ko(this.l)}%${1===e?")":`, ${e})`}`}}));var Eo=e=>()=>e;function So(e,t){return function(n){return e+n*t}}function Co(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function No(e){return 1===(e=+e)?Mo:function(t,n){return n-t?Co(t,n,e):Eo(isNaN(t)?n:t)}}function Mo(e,t){var n=t-e;return n?So(e,n):Eo(isNaN(e)?t:e)}var To=function e(t){var n=No(t);function o(e,t){var o=n((e=lo(e)).r,(t=lo(t)).r),i=n(e.g,t.g),r=n(e.b,t.b),a=Mo(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=i(t),e.b=r(t),e.opacity=a(t),e+""}}return o.gamma=e,o}(1);function Bo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Po=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ro=new RegExp(Po.source,"g");function Wo(e){return function(){return e}}function Io(e){return function(t){return e(t)+""}}function Oo(e,t){var n,o,i,r=Po.lastIndex=Ro.lastIndex=0,a=-1,s=[],l=[];e+="",t+="";while((n=Po.exec(e))&&(o=Ro.exec(t)))(i=o.index)>r&&(i=t.slice(r,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,l.push({i:a,x:Bo(n,o)})),r=Ro.lastIndex;return r<t.length&&(i=t.slice(r),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?Io(l[0].x):Wo(t):(t=l.length,function(e){for(var n,o=0;o<t;++o)s[(n=l[o]).i]=n.x(e);return s.join("")})}var $o,Xo=180/Math.PI,zo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ao(e,t,n,o,i,r){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,l/=s),e*o<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*Xo,skewX:Math.atan(l)*Xo,scaleX:a,scaleY:s}}function Ho(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?zo:Ao(t.a,t.b,t.c,t.d,t.e,t.f)}function Lo(e){return null==e?zo:($o||($o=document.createElementNS("http://www.w3.org/2000/svg","g")),$o.setAttribute("transform",e),(e=$o.transform.baseVal.consolidate())?(e=e.matrix,Ao(e.a,e.b,e.c,e.d,e.e,e.f)):zo)}function Yo(e,t,n,o){function i(e){return e.length?e.pop()+" ":""}function r(e,o,i,r,a,s){if(e!==i||o!==r){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:Bo(e,i)},{i:l-2,x:Bo(o,r)})}else(i||r)&&a.push("translate("+i+t+r+n)}function a(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(i(n)+"rotate(",null,o)-2,x:Bo(e,t)})):t&&n.push(i(n)+"rotate("+t+o)}function s(e,t,n,r){e!==t?r.push({i:n.push(i(n)+"skewX(",null,o)-2,x:Bo(e,t)}):t&&n.push(i(n)+"skewX("+t+o)}function l(e,t,n,o,r,a){if(e!==n||t!==o){var s=r.push(i(r)+"scale(",null,",",null,")");a.push({i:s-4,x:Bo(e,n)},{i:s-2,x:Bo(t,o)})}else 1===n&&1===o||r.push(i(r)+"scale("+n+","+o+")")}return function(t,n){var o=[],i=[];return t=e(t),n=e(n),r(t.translateX,t.translateY,n.translateX,n.translateY,o,i),a(t.rotate,n.rotate,o,i),s(t.skewX,n.skewX,o,i),l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,o,i),t=n=null,function(e){var t,n=-1,r=i.length;while(++n<r)o[(t=i[n]).i]=t.x(e);return o.join("")}}}var Do=Yo(Ho,"px, ","px)","deg)"),Vo=Yo(Lo,", ",")",")"),jo=1e-12;function Fo(e){return((e=Math.exp(e))+1/e)/2}function qo(e){return((e=Math.exp(e))-1/e)/2}function Ko(e){return((e=Math.exp(2*e))-1)/(e+1)}var Uo,Go,Zo=function e(t,n,o){function i(e,i){var r,a,s=e[0],l=e[1],u=e[2],c=i[0],d=i[1],h=i[2],p=c-s,f=d-l,v=p*p+f*f;if(v<jo)a=Math.log(h/u)/t,r=function(e){return[s+e*p,l+e*f,u*Math.exp(t*e*a)]};else{var g=Math.sqrt(v),m=(h*h-u*u+o*v)/(2*u*n*g),y=(h*h-u*u-o*v)/(2*h*n*g),b=Math.log(Math.sqrt(m*m+1)-m),w=Math.log(Math.sqrt(y*y+1)-y);a=(w-b)/t,r=function(e){var o=e*a,i=Fo(b),r=u/(n*g)*(i*Ko(t*o+b)-qo(b));return[s+r*p,l+r*f,u*i/Fo(t*o+b)]}}return r.duration=1e3*a*t/Math.SQRT2,r}return i.rho=function(t){var n=Math.max(.001,+t),o=n*n,i=o*o;return e(n,o,i)},i}(Math.SQRT2,2,4),Qo=0,Jo=0,ei=0,ti=1e3,ni=0,oi=0,ii=0,ri="object"===typeof performance&&performance.now?performance:Date,ai="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function si(){return oi||(ai(li),oi=ri.now()+ii)}function li(){oi=0}function ui(){this._call=this._time=this._next=null}function ci(e,t,n){var o=new ui;return o.restart(e,t,n),o}function di(){si(),++Qo;var e,t=Uo;while(t)(e=oi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Qo}function hi(){oi=(ni=ri.now())+ii,Qo=Jo=0;try{di()}finally{Qo=0,fi(),oi=0}}function pi(){var e=ri.now(),t=e-ni;t>ti&&(ii-=t,ni=e)}function fi(){var e,t,n=Uo,o=1/0;while(n)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Uo=t);Go=e,vi(o)}function vi(e){if(!Qo){Jo&&(Jo=clearTimeout(Jo));var t=e-oi;t>24?(e<1/0&&(Jo=setTimeout(hi,e-ri.now()-ii)),ei&&(ei=clearInterval(ei))):(ei||(ni=ri.now(),ei=setInterval(pi,ti)),Qo=1,ai(hi))}}function gi(e,t,n){var o=new ui;return t=null==t?0:+t,o.restart((n=>{o.stop(),e(n+t)}),t,n),o}ui.prototype=ci.prototype={constructor:ui,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?si():+n)+(null==t?0:+t),this._next||Go===this||(Go?Go._next=this:Uo=this,Go=this),this._call=e,this._time=n,vi()},stop:function(){this._call&&(this._call=null,this._time=1/0,vi())}};var mi=me("start","end","cancel","interrupt"),yi=[],bi=0,wi=1,xi=2,ki=3,_i=4,Ei=5,Si=6;function Ci(e,t,n,o,i,r){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};Bi(e,n,{name:t,index:o,group:i,on:mi,tween:yi,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:bi})}function Ni(e,t){var n=Ti(e,t);if(n.state>bi)throw new Error("too late; already scheduled");return n}function Mi(e,t){var n=Ti(e,t);if(n.state>ki)throw new Error("too late; already running");return n}function Ti(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Bi(e,t,n){var o,i=e.__transition;function r(e){n.state=wi,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(r){var u,c,d,h;if(n.state!==wi)return l();for(u in i)if(h=i[u],h.name===n.name){if(h.state===ki)return gi(a);h.state===_i?(h.state=Si,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[u]):+u<t&&(h.state=Si,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[u])}if(gi((function(){n.state===ki&&(n.state=_i,n.timer.restart(s,n.delay,n.time),s(r))})),n.state=xi,n.on.call("start",e,e.__data__,n.index,n.group),n.state===xi){for(n.state=ki,o=new Array(d=n.tween.length),u=0,c=-1;u<d;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(o[++c]=h);o.length=c+1}}function s(t){var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=Ei,1),r=-1,a=o.length;while(++r<a)o[r].call(e,i);n.state===Ei&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var o in n.state=Si,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=ci(r,0,n.time)}function Pi(e,t){var n,o,i,r=e.__transition,a=!0;if(r){for(i in t=null==t?null:t+"",r)(n=r[i]).name===t?(o=n.state>xi&&n.state<Ei,n.state=Si,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]):a=!1;a&&delete e.__transition}}function Ri(e){return this.each((function(){Pi(this,e)}))}function Wi(e,t){var n,o;return function(){var i=Mi(this,e),r=i.tween;if(r!==n){o=n=r;for(var a=0,s=o.length;a<s;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function Ii(e,t,n){var o,i;if("function"!==typeof n)throw new Error;return function(){var r=Mi(this,e),a=r.tween;if(a!==o){i=(o=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}r.tween=i}}function Oi(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,i=Ti(this.node(),n).tween,r=0,a=i.length;r<a;++r)if((o=i[r]).name===e)return o.value;return null}return this.each((null==t?Wi:Ii)(n,e,t))}function $i(e,t,n){var o=e._id;return e.each((function(){var e=Mi(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Ti(e,o).value[t]}}function Xi(e,t){var n;return("number"===typeof t?Bo:t instanceof io?To:(n=io(t))?(t=n,To):Oo)(e,t)}function zi(e){return function(){this.removeAttribute(e)}}function Ai(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Hi(e,t,n){var o,i,r=n+"";return function(){var a=this.getAttribute(e);return a===r?null:a===o?i:i=t(o=a,n)}}function Li(e,t,n){var o,i,r=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===o?i:i=t(o=a,n)}}function Yi(e,t,n){var o,i,r;return function(){var a,s,l=n(this);if(null!=l)return a=this.getAttribute(e),s=l+"",a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l));this.removeAttribute(e)}}function Di(e,t,n){var o,i,r;return function(){var a,s,l=n(this);if(null!=l)return a=this.getAttributeNS(e.space,e.local),s=l+"",a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l));this.removeAttributeNS(e.space,e.local)}}function Vi(e,t){var n=Ee(e),o="transform"===n?Vo:Xi;return this.attrTween(e,"function"===typeof t?(n.local?Di:Yi)(n,o,$i(this,"attr."+e,t)):null==t?(n.local?Ai:zi)(n):(n.local?Li:Hi)(n,o,t))}function ji(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Fi(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function qi(e,t){var n,o;function i(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&Fi(e,i)),n}return i._value=t,i}function Ki(e,t){var n,o;function i(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&ji(e,i)),n}return i._value=t,i}function Ui(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var o=Ee(e);return this.tween(n,(o.local?qi:Ki)(o,t))}function Gi(e,t){return function(){Ni(this,e).delay=+t.apply(this,arguments)}}function Zi(e,t){return t=+t,function(){Ni(this,e).delay=t}}function Qi(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Gi:Zi)(t,e)):Ti(this.node(),t).delay}function Ji(e,t){return function(){Mi(this,e).duration=+t.apply(this,arguments)}}function er(e,t){return t=+t,function(){Mi(this,e).duration=t}}function tr(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Ji:er)(t,e)):Ti(this.node(),t).duration}function nr(e,t){if("function"!==typeof t)throw new Error;return function(){Mi(this,e).ease=t}}function or(e){var t=this._id;return arguments.length?this.each(nr(t,e)):Ti(this.node(),t).ease}function ir(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;Mi(this,e).ease=n}}function rr(e){if("function"!==typeof e)throw new Error;return this.each(ir(this._id,e))}function ar(e){"function"!==typeof e&&(e=$e(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r,a=t[i],s=a.length,l=o[i]=[],u=0;u<s;++u)(r=a[u])&&e.call(r,r.__data__,u,a)&&l.push(r);return new Or(o,this._parents,this._name,this._id)}function sr(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,r=Math.min(o,i),a=new Array(o),s=0;s<r;++s)for(var l,u=t[s],c=n[s],d=u.length,h=a[s]=new Array(d),p=0;p<d;++p)(l=u[p]||c[p])&&(h[p]=l);for(;s<o;++s)a[s]=t[s];return new Or(a,this._parents,this._name,this._id)}function lr(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}function ur(e,t,n){var o,i,r=lr(t)?Ni:Mi;return function(){var a=r(this,e),s=a.on;s!==o&&(i=(o=s).copy()).on(t,n),a.on=i}}function cr(e,t){var n=this._id;return arguments.length<2?Ti(this.node(),n).on.on(e):this.each(ur(n,e,t))}function dr(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function hr(){return this.on("end.remove",dr(this._id))}function pr(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Te(e));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var s,l,u=o[a],c=u.length,d=r[a]=new Array(c),h=0;h<c;++h)(s=u[h])&&(l=e.call(s,s.__data__,h,u))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,Ci(d[h],t,n,h,d,Ti(s,n)));return new Or(r,this._parents,t,n)}function fr(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=We(e));for(var o=this._groups,i=o.length,r=[],a=[],s=0;s<i;++s)for(var l,u=o[s],c=u.length,d=0;d<c;++d)if(l=u[d]){for(var h,p=e.call(l,l.__data__,d,u),f=Ti(l,n),v=0,g=p.length;v<g;++v)(h=p[v])&&Ci(h,t,n,v,p,f);r.push(p),a.push(l)}return new Or(r,a,t,n)}var vr=wn.prototype.constructor;function gr(){return new vr(this._groups,this._parents)}function mr(e,t){var n,o,i;return function(){var r=Ct(this,e),a=(this.style.removeProperty(e),Ct(this,e));return r===a?null:r===n&&a===o?i:i=t(n=r,o=a)}}function yr(e){return function(){this.style.removeProperty(e)}}function br(e,t,n){var o,i,r=n+"";return function(){var a=Ct(this,e);return a===r?null:a===o?i:i=t(o=a,n)}}function wr(e,t,n){var o,i,r;return function(){var a=Ct(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=Ct(this,e)),a===l?null:a===o&&l===i?r:(i=l,r=t(o=a,s))}}function xr(e,t){var n,o,i,r,a="style."+t,s="end."+a;return function(){var l=Mi(this,e),u=l.on,c=null==l.value[a]?r||(r=yr(t)):void 0;u===n&&i===c||(o=(n=u).copy()).on(s,i=c),l.on=o}}function kr(e,t,n){var o="transform"===(e+="")?Do:Xi;return null==t?this.styleTween(e,mr(e,o)).on("end.style."+e,yr(e)):"function"===typeof t?this.styleTween(e,wr(e,o,$i(this,"style."+e,t))).each(xr(this._id,e)):this.styleTween(e,br(e,o,t),n).on("end.style."+e,null)}function _r(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Er(e,t,n){var o,i;function r(){var r=t.apply(this,arguments);return r!==i&&(o=(i=r)&&_r(e,r,n)),o}return r._value=t,r}function Sr(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!==typeof t)throw new Error;return this.tween(o,Er(e,t,null==n?"":n))}function Cr(e){return function(){this.textContent=e}}function Nr(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function Mr(e){return this.tween("text","function"===typeof e?Nr($i(this,"text",e)):Cr(null==e?"":e+""))}function Tr(e){return function(t){this.textContent=e.call(this,t)}}function Br(e){var t,n;function o(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Tr(o)),t}return o._value=e,o}function Pr(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,Br(e))}function Rr(){for(var e=this._name,t=this._id,n=$r(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a,s=o[r],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=Ti(a,t);Ci(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Or(o,this._parents,e,n)}function Wr(){var e,t,n=this,o=n._id,i=n.size();return new Promise((function(r,a){var s={value:a},l={value:function(){0===--i&&r()}};n.each((function(){var n=Mi(this,o),i=n.on;i!==e&&(t=(e=i).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===i&&r()}))}var Ir=0;function Or(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function $r(){return++Ir}var Xr=wn.prototype;function zr(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}Or.prototype={constructor:Or,select:pr,selectAll:fr,selectChild:Xr.selectChild,selectChildren:Xr.selectChildren,filter:ar,merge:sr,selection:gr,transition:Rr,call:Xr.call,nodes:Xr.nodes,node:Xr.node,size:Xr.size,empty:Xr.empty,each:Xr.each,on:cr,attr:Vi,attrTween:Ui,style:kr,styleTween:Sr,text:Mr,textTween:Pr,remove:hr,tween:Oi,delay:Qi,duration:tr,ease:or,easeVarying:rr,end:Wr,[Symbol.iterator]:Xr[Symbol.iterator]};var Ar={time:null,delay:0,duration:250,ease:zr};function Hr(e,t){var n;while(!(n=e.__transition)||!(n=n[t]))if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Lr(e){var t,n;e instanceof Or?(t=e._id,e=e._name):(t=$r(),(n=Ar).time=si(),e=null==e?null:e+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a,s=o[r],l=s.length,u=0;u<l;++u)(a=s[u])&&Ci(a,e,t,u,s,n||Hr(a,t));return new Or(o,this._parents,e,t)}wn.prototype.interrupt=Ri,wn.prototype.transition=Lr;var Yr=e=>()=>e;function Dr(e,{sourceEvent:t,target:n,transform:o,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function Vr(e,t,n){this.k=e,this.x=t,this.y=n}Vr.prototype={constructor:Vr,scale:function(e){return 1===e?this:new Vr(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Vr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jr=new Vr(1,0,0);function Fr(e){e.stopImmediatePropagation()}function qr(e){e.preventDefault(),e.stopImmediatePropagation()}function Kr(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function Ur(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Gr(){return this.__zoom||jr}function Zr(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Qr(){return navigator.maxTouchPoints||"ontouchstart"in this}function Jr(e,t,n){var o=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i),a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a))}function ea(){var e,t,n,o=Kr,i=Ur,r=Jr,a=Zr,s=Qr,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,d=Zo,h=me("start","zoom","end"),p=500,f=150,v=0,g=10;function m(e){e.property("__zoom",Gr).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",C).filter(s).on("touchstart.zoom",N).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(e,t){return t=Math.max(l[0],Math.min(l[1],t)),t===e.k?e:new Vr(t,e.x,e.y)}function b(e,t,n){var o=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return o===e.x&&i===e.y?e:new Vr(e.k,o,i)}function w(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,o){e.on("start.zoom",(function(){k(this,arguments).event(o).start()})).on("interrupt.zoom end.zoom",(function(){k(this,arguments).event(o).end()})).tween("zoom",(function(){var e=this,r=arguments,a=k(e,r).event(o),s=i.apply(e,r),l=null==n?w(s):"function"===typeof n?n.apply(e,r):n,u=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),c=e.__zoom,h="function"===typeof t?t.apply(e,r):t,p=d(c.invert(l).concat(u/c.k),h.invert(l).concat(u/h.k));return function(e){if(1===e)e=h;else{var t=p(e),n=u/t[2];e=new Vr(n,l[0]-t[0]*n,l[1]-t[1]*n)}a.zoom(null,e)}}))}function k(e,t,n){return!n&&e.__zooming||new _(e,t)}function _(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function E(e,...t){if(o.apply(this,arguments)){var n=k(this,t).event(e),i=this.__zoom,s=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,a.apply(this,arguments)))),c=En(e);if(n.wheel)n.mouse[0][0]===c[0]&&n.mouse[0][1]===c[1]||(n.mouse[1]=i.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[c,i.invert(c)],Pi(this),n.start()}qr(e),n.wheel=setTimeout(d,f),n.zoom("mouse",r(b(y(i,s),n.mouse[0],n.mouse[1]),n.extent,u))}function d(){n.wheel=null,n.end()}}function S(e,...t){if(!n&&o.apply(this,arguments)){var i=e.currentTarget,a=k(this,t,!0).event(e),s=kn(e.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",p,!0),l=En(e,i),c=e.clientX,d=e.clientY;Tn(e.view),Fr(e),a.mouse=[l,this.__zoom.invert(l)],Pi(this),a.start()}function h(e){if(qr(e),!a.moved){var t=e.clientX-c,n=e.clientY-d;a.moved=t*t+n*n>v}a.event(e).zoom("mouse",r(b(a.that.__zoom,a.mouse[0]=En(e,i),a.mouse[1]),a.extent,u))}function p(e){s.on("mousemove.zoom mouseup.zoom",null),Bn(e.view,a.moved),qr(e),a.event(e).end()}}function C(e,...t){if(o.apply(this,arguments)){var n=this.__zoom,a=En(e.changedTouches?e.changedTouches[0]:e,this),s=n.invert(a),l=n.k*(e.shiftKey?.5:2),d=r(b(y(n,l),a,s),i.apply(this,t),u);qr(e),c>0?kn(this).transition().duration(c).call(x,d,a,e):kn(this).call(m.transform,d,a,e)}}function N(n,...i){if(o.apply(this,arguments)){var r,a,s,l,u=n.touches,c=u.length,d=k(this,i,n.changedTouches.length===c).event(n);for(Fr(n),a=0;a<c;++a)s=u[a],l=En(s,this),l=[l,this.__zoom.invert(l),s.identifier],d.touch0?d.touch1||d.touch0[2]===l[2]||(d.touch1=l,d.taps=0):(d.touch0=l,r=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),r&&(d.taps<2&&(t=l[0],e=setTimeout((function(){e=null}),p)),Pi(this),d.start())}}function M(e,...t){if(this.__zooming){var n,o,i,a,s=k(this,t).event(e),l=e.changedTouches,c=l.length;for(qr(e),n=0;n<c;++n)o=l[n],i=En(o,this),s.touch0&&s.touch0[2]===o.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===o.identifier&&(s.touch1[0]=i);if(o=s.that.__zoom,s.touch1){var d=s.touch0[0],h=s.touch0[1],p=s.touch1[0],f=s.touch1[1],v=(v=p[0]-d[0])*v+(v=p[1]-d[1])*v,g=(g=f[0]-h[0])*g+(g=f[1]-h[1])*g;o=y(o,Math.sqrt(v/g)),i=[(d[0]+p[0])/2,(d[1]+p[1])/2],a=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",r(b(o,i,a),s.extent,u))}}function T(e,...o){if(this.__zooming){var i,r,a=k(this,o).event(e),s=e.changedTouches,l=s.length;for(Fr(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),i=0;i<l;++i)r=s[i],a.touch0&&a.touch0[2]===r.identifier?delete a.touch0:a.touch1&&a.touch1[2]===r.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(r=En(r,this),Math.hypot(t[0]-r[0],t[1]-r[1])<g)){var u=kn(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return m.transform=function(e,t,n,o){var i=e.selection?e.selection():e;i.property("__zoom",Gr),e!==i?x(e,t,n,o):i.interrupt().each((function(){k(this,arguments).event(o).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,o){m.scaleTo(e,(function(){var e=this.__zoom.k,n="function"===typeof t?t.apply(this,arguments):t;return e*n}),n,o)},m.scaleTo=function(e,t,n,o){m.transform(e,(function(){var e=i.apply(this,arguments),o=this.__zoom,a=null==n?w(e):"function"===typeof n?n.apply(this,arguments):n,s=o.invert(a),l="function"===typeof t?t.apply(this,arguments):t;return r(b(y(o,l),a,s),e,u)}),n,o)},m.translateBy=function(e,t,n,o){m.transform(e,(function(){return r(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),u)}),null,o)},m.translateTo=function(e,t,n,o,a){m.transform(e,(function(){var e=i.apply(this,arguments),a=this.__zoom,s=null==o?w(e):"function"===typeof o?o.apply(this,arguments):o;return r(jr.translate(s[0],s[1]).scale(a.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,u)}),o,a)},_.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=kn(this.that).datum();h.call(e,this.that,new Dr(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:h}),t)}},m.wheelDelta=function(e){return arguments.length?(a="function"===typeof e?e:Yr(+e),m):a},m.filter=function(e){return arguments.length?(o="function"===typeof e?e:Yr(!!e),m):o},m.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Yr(!!e),m):s},m.extent=function(e){return arguments.length?(i="function"===typeof e?e:Yr([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):i},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(u[0][0]=+e[0][0],u[1][0]=+e[1][0],u[0][1]=+e[0][1],u[1][1]=+e[1][1],m):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},m.constrain=function(e){return arguments.length?(r=e,m):r},m.duration=function(e){return arguments.length?(c=+e,m):c},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(v=(e=+e)*e,m):Math.sqrt(v)},m.tapDistance=function(e){return arguments.length?(g=+e,m):g},m}Vr.prototype;var ta=(e=>(e["Left"]="left",e["Top"]="top",e["Right"]="right",e["Bottom"]="bottom",e))(ta||{}),na=(e=>(e["Bezier"]="default",e["Straight"]="straight",e["Step"]="step",e["SmoothStep"]="smoothstep",e))(na||{}),oa=(e=>(e["Strict"]="strict",e["Loose"]="loose",e))(oa||{}),ia=(e=>(e["Arrow"]="arrow",e["ArrowClosed"]="arrowclosed",e))(ia||{}),ra=(e=>(e["Free"]="free",e["Vertical"]="vertical",e["Horizontal"]="horizontal",e))(ra||{});const aa=Symbol("vueFlow"),sa=Symbol("nodeId"),la=Symbol("nodeRef"),ua=Symbol("edgeId"),ca=Symbol("edgeRef"),da=Symbol("slots"),ha=()=>({edgesChange:S(),nodesChange:S(),nodeDoubleClick:S(),nodeClick:S(),nodeMouseEnter:S(),nodeMouseMove:S(),nodeMouseLeave:S(),nodeContextMenu:S(),nodeDragStart:S(),nodeDrag:S(),nodeDragStop:S(),miniMapNodeClick:S(),miniMapNodeDoubleClick:S(),miniMapNodeMouseEnter:S(),miniMapNodeMouseMove:S(),miniMapNodeMouseLeave:S(),connect:S(),connectStart:S(),connectEnd:S(),paneReady:S(),move:S(),moveStart:S(),moveEnd:S(),selectionDragStart:S(),selectionDrag:S(),selectionDragStop:S(),selectionContextMenu:S(),paneScroll:S(),paneClick:S(),paneContextMenu:S(),paneMouseEnter:S(),paneMouseMove:S(),paneMouseLeave:S(),edgeContextMenu:S(),edgeMouseEnter:S(),edgeMouseMove:S(),edgeMouseLeave:S(),edgeDoubleClick:S(),edgeClick:S(),edgeUpdateStart:S(),edgeUpdate:S(),edgeUpdateEnd:S(),updateNodeInternals:S()});var pa=(e,t)=>{(0,o.KC)((()=>{for(const[n,o]of Object.entries(t.value)){const t=t=>{e(n,t)};o.on(t),C((()=>{o.off(t)}))}}))};const fa=e=>({width:e.offsetWidth,height:e.offsetHeight}),va=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ga=(e,t)=>({x:va(e.x,t[0][0],t[1][0]),y:va(e.y,t[0][1],t[1][1])}),ma=e=>{const t=e.getRootNode(),n=cl();return"elementFromPoint"in t?t:n.document},ya=e=>e&&"id"in e&&"source"in e&&"target"in e,ba=e=>ya(e)&&"sourceNode"in e&&"targetNode"in e,wa=e=>e&&"id"in e&&!ya(e),xa=e=>wa(e)&&"computedPosition"in e,ka=(e,t,n)=>{var o;let i=n;return xa(e)||(i={type:null!=(o=e.type)?o:"default",dimensions:(0,d.IG)({width:0,height:0}),handleBounds:(0,d.Gc)({source:[],target:[]}),computedPosition:(0,d.IG)({z:0,...e.position}),draggable:void 0,selectable:void 0,connectable:void 0,...n}),{...i,...e,id:e.id.toString()}},_a=(e,t)=>(t=ba(e)?t:{sourceHandle:e.sourceHandle?e.sourceHandle.toString():void 0,targetHandle:e.targetHandle?e.targetHandle.toString():void 0,type:e.type,source:e.source.toString(),target:e.target.toString(),z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,updatable:e.updatable,selectable:e.selectable,data:e.data,...t},Object.assign({id:e.id.toString()},e,t)),Ea=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`vueflow__edge-${e}${null!=t?t:""}-${n}${null!=o?o:""}`,Sa=(e,t)=>t.some((t=>ya(t)&&t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle))),Ca=({x:e,y:t},{x:n,y:o,zoom:i},r,[a,s])=>{const l={x:(e-n)/i,y:(t-o)/i};return r?{x:a*Math.round(l.x/a),y:s*Math.round(l.y/s)}:l},Na=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Ma=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),Ta=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),Ba=(e,t)=>Ta(Na(Ma(e),Ma(t))),Pa=e=>{const t=e.reduce(((e,{computedPosition:t={x:0,y:0},dimensions:n={width:0,height:0}}={})=>Na(e,Ma({...t,...n}))),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ta(t)},Ra=(e,t,{x:n,y:o,zoom:i}={x:0,y:0,zoom:1},r=!1)=>{const a=Ma({x:(t.x-n)/i,y:(t.y-o)/i,width:t.width/i,height:t.height/i});return e.filter((e=>{if(!e||!1===e.selectable)return!1;const{computedPosition:t={x:0,y:0},dimensions:n={width:0,height:0}}=e,o=Ma({...t,...n}),i=Math.max(0,Math.min(a.x2,o.x2)-Math.max(a.x,o.x)),s=Math.max(0,Math.min(a.y2,o.y2)-Math.max(a.y,o.y)),l=Math.ceil(i*s),u="undefined"===typeof n.width||"undefined"===typeof n.height||0===n.width||0===n.height,c=r&&l>0,d=n.width*n.height;return u||c||l>=d}))},Wa=(e,t)=>{const n=e.map((e=>e.id));return t.filter((e=>n.includes(e.source)||n.includes(e.target)))},Ia=(e,t,n,o,i,r=.1,a={x:0,y:0})=>{var s,l;const u=t/(e.width*(1+r)),c=n/(e.height*(1+r)),d=Math.min(u,c),h=va(d,o,i),p=e.x+e.width/2,f=e.y+e.height/2,v=t/2-p*h+(null!=(s=a.x)?s:0),g=n/2-f*h+(null!=(l=a.y)?l:0);return{x:v,y:g,zoom:h}},Oa=(e,t)=>({x:t.x+e.x,y:t.y+e.y,z:e.z>t.z?e.z:t.z}),$a=(e,t)=>{if(!e.parentNode)return!1;const n=t(e.parentNode);return!!n&&(!!n.selected||$a(n,t))},Xa=e=>"undefined"===typeof e?"":"string"===typeof e?e:Object.keys(e).sort().map((t=>`${t}=${e[t]}`)).join("&"),za=(e,t,n)=>{var o,i,r,a;const s=(null!=(o=null==n?void 0:n.x)?o:0)+t.x,l=(null!=(i=null==n?void 0:n.y)?i:0)+t.y,u=null!=(r=null==n?void 0:n.width)?r:t.width,c=null!=(a=null==n?void 0:n.height)?a:t.height;switch(e){case ta.Top:return{x:s+u/2,y:l};case ta.Right:return{x:s+u,y:l+c/2};case ta.Bottom:return{x:s+u/2,y:l+c};case ta.Left:return{x:s,y:l+c/2}}},Aa=(e=[],t)=>{if(!e.length)return;let n;return t||1!==e.length?t&&(n=e.find((e=>e.id===t))):n=e[0],n||e[0]},Ha=(e,t,n,o,i,r)=>{const a=za(n,{...e.dimensions,...e.computedPosition},t),s=za(r,{...o.dimensions,...o.computedPosition},i);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}};function La({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:i,targetHeight:r,width:a,height:s,viewport:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+o,t.y+r)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Ma({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:a/l.zoom,height:s/l.zoom}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),h=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y)),p=Math.ceil(d*h);return p>0}const Ya=(e,t)=>{let n=-1;const o=e.reduce(((e,o)=>{const i=t(o.source),r=t(o.target);if(!i||!r)return e;const a=o.z?o.z:Math.max(i.computedPosition.z||0,r.computedPosition.z||0);return e[a]?e[a].push(o):e[a]=[o],n=a>n?a:n,e}),{});return Object.entries(Object.keys(o).length?o:{0:[]}).map((([e,t])=>{const o=+e;return{edges:t,level:o,isMaxLevel:o===n}}))},Da=(e,t,n)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return;const i=Array.from(o),r=t.getBoundingClientRect();return i.map((e=>{const t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-r.left)/n,y:(t.top-r.top)/n,...fa(e)}}))},Va=(e,t,n,o,i)=>{i.value=!1,e.selected?e.selected&&t&&o({nodes:[e]}):n([e])};function ja(e,t){var n,o;if(t){const i=e.position.x+e.dimensions.width-t.dimensions.width,r=e.position.y+e.dimensions.height-t.dimensions.height;if(i>0||r>0||e.position.x<0||e.position.y<0){if(t.style={...t.style},t.style.width=null!=(n=t.style.width)?n:t.dimensions.width,t.style.height=null!=(o=t.style.height)?o:t.dimensions.height,i>0)if("string"===typeof t.style.width){const e=parseInt(t.style.width,10);t.style.width=`${e+i}px`}else t.style.width+=i;if(r>0)if("string"===typeof t.style.height){const e=parseInt(t.style.height,10);t.style.height=`${e+r}px`}else t.style.height+=r;if(e.position.x<0){const n=Math.abs(e.position.x);if(t.position.x=t.position.x-n,"string"===typeof t.style.width){const e=parseInt(t.style.width,10);t.style.width=`${e+n}px`}else t.style.width+=n;e.position.x=0}if(e.position.y<0){const n=Math.abs(e.position.y);if(t.position.y=t.position.y-n,"string"===typeof t.style.height){const e=parseInt(t.style.height,10);t.style.height=`${e+n}px`}else t.style.height+=n;e.position.y=0}}}}const Fa=(e,t)=>{let n=t.map((e=>e.id));return e.forEach((e=>{if("add"===e.type){const n=e.item;return t.push(n)}const o=n.indexOf(e.id),i=t[o];switch(e.type){case"select":(xa(i)||ba(i))&&(i.selected=e.selected);break;case"position":if(xa(i)&&("undefined"!==typeof e.position&&(i.position=e.position),"undefined"!==typeof e.computedPosition&&(i.computedPosition={...i.computedPosition,...e.computedPosition}),i.expandParent&&i.parentNode)){const e=t[n.indexOf(i.parentNode)];e&&xa(e)&&ja(i,e)}break;case"dimensions":if(xa(i)&&("undefined"!==typeof e.dimensions&&(i.dimensions=e.dimensions),i.expandParent&&i.parentNode)){const e=t[n.indexOf(i.parentNode)];e&&xa(e)&&ja(i,e)}break;case"remove":n.includes(e.id)&&(t.splice(o,1),n=t.map((e=>e.id)));break}})),t},qa=(e,t)=>({id:e,type:"select",selected:t}),Ka=e=>({item:e,type:"add"}),Ua=e=>({id:e,type:"remove"}),Ga=(e,t)=>e.reduce(((e,n)=>{const o=t.includes(n.id);return!n.selected&&o?(n.selected=!0,e.push(qa(n.id,!0))):n.selected&&!o&&(n.selected=!1,e.push(qa(n.id,!1))),e}),[]),Za=e=>"undefined"!==typeof e,Qa=(e,t)=>{if(!e.source||!e.target)return console.warn("[vueflow]: Can't create edge. An edge needs a source and a target."),!1;let n;return n=ya(e)?{...e}:{...e,id:Ea(e)},n=_a(n),!Sa(n,t)&&n},Ja=(e,t,n)=>{if(!t.source||!t.target)return console.warn("[vueflow]: Can't create new edge. An edge needs a source and a target."),!1;const o=n.find((t=>ba(t)&&t.id===e.id));if(!o)return console.warn(`[vueflow]: The old edge with id=${e.id} does not exist.`),!1;const i={...e,id:Ea(t),source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return n.splice(n.indexOf(o),1,i),i},es=(e,t,n,o)=>{const i={},r=e.map((e=>{const n=(0,d.Gc)(ka(e,o,{...t(e.id),parentNode:e.parentNode}));return e.parentNode&&(i[e.parentNode]=!0),n}));return r.forEach((e=>{const o=[...r,...n];if(e.parentNode&&!o.find((t=>t.id===e.parentNode))&&console.warn(`[vueflow]: Parent node ${e.parentNode} not found`),e.parentNode||i[e.id]){i[e.id]&&(e.isParent=!0);const n=e.parentNode?t(e.parentNode):void 0;n&&(n.isParent=!0)}})),r},ts=["data-handleid","data-nodeid","data-handlepos"],ns={name:"Handle"},os=(0,o.pM)({...ns,props:{id:null,type:{default:"source"},position:{default:()=>"top"},isValidConnection:null,connectable:{type:Boolean,default:!0}},setup(e){const t=al(),n=(0,d.lW)(t,"connectionStartHandle"),i=(0,d.lW)(t,"connectionMode"),r=(0,d.lW)(t,"vueFlowRef"),{id:a,node:s,nodeEl:l}=Nl(),u=(0,d.KR)(),c=(0,o.EW)((()=>{var t;return null!=(t=e.id)?t:i.value===oa.Strict?null:`${a}__handle-${e.position}`})),{onMouseDown:p,onClick:f}=ul(),v=t=>{p(t,c.value,a,"target"===e.type,e.isValidConnection,void 0)},g=t=>{var n;f(t,null!=(n=c.value)?n:null,a,e.type,e.isValidConnection)},m=(0,o.EW)((()=>["vue-flow__handle",`vue-flow__handle-${e.position}`,`vue-flow__handle-${c.value}`,"nodrag",{source:"target"!==e.type,target:"target"===e.type,connectable:e.connectable,connecting:n.value&&n.value.nodeId===a&&n.value.handleId===c.value&&n.value.type===e.type}]));return(0,o.sV)((()=>{var t,n;const o=null==(t=s.handleBounds[e.type])?void 0:t.find((e=>e.id===c.value));if(!r.value||o)return;const i=r.value.querySelector(".vue-flow__transformationpane");if(!l||!u.value||!i)return;const a=l.value.getBoundingClientRect(),d=u.value.getBoundingClientRect(),h=window.getComputedStyle(i),{m22:p}=new window.DOMMatrixReadOnly(h.transform),f={id:c.value,position:e.position,x:(d.left-a.left)/p,y:(d.top-a.top)/p,...fa(u.value)};s.handleBounds[e.type]=[...null!=(n=s.handleBounds[e.type])?n:[],f]})),(t,n)=>((0,o.uX)(),(0,o.CE)("div",{ref_key:"handle",ref:u,"data-handleid":c.value,"data-nodeid":(0,d.R1)(a),"data-handlepos":e.position,class:(0,h.C4)((0,d.R1)(m)),onMousedown:v,onClick:g},[(0,o.RG)(t.$slots,"default",{id:e.id})],42,ts))}}),is=function({sourcePosition:e=ta.Bottom,targetPosition:t=ta.Top,label:n,connectable:i=!1,isValidTargetPos:r,isValidSourcePos:a}){return[(0,o.h)(os,{type:"target",position:t,isConnectable:i,isValidConnection:r}),"string"!==typeof n&&n?(0,o.h)(n):(0,o.h)("div",{innerHTML:n}),(0,o.h)(os,{type:"source",position:e,isConnectable:i,isValidConnection:a})]};is.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable"],is.inheritAttrs=!1;const rs=function({sourcePosition:e=ta.Bottom,label:t,connectable:n=!1,isValidSourcePos:i}){return["string"!==typeof t&&t?(0,o.h)(t):(0,o.h)("div",{innerHTML:t}),(0,o.h)(os,{type:"source",position:e,isConnectable:n,isValidConnection:i})]};rs.props=["sourcePosition","label","isValidSourcePos","connectable"],rs.inheritAttrs=!1;const as=function({targetPosition:e=ta.Top,label:t,connectable:n=!1,isValidTargetPos:i}){return[(0,o.h)(os,{type:"target",position:e,isConnectable:n,isValidConnection:i}),"string"!==typeof t&&t?(0,o.h)(t):(0,o.h)("div",{innerHTML:t})]};as.props=["targetPosition","label","isValidTargetPos","connectable"],as.inheritAttrs=!1;const ss=["data-id"],ls={name:"Node",inheritAttrs:!1},us=(0,o.pM)({...ls,props:{id:null,draggable:{type:Boolean},selectable:{type:Boolean},connectable:{type:Boolean},snapGrid:null,type:{type:[null,Function,Object,Boolean]},name:null,node:null,resizeObserver:null},setup(e){const t=(0,o.bn)(e,["id","type","name","draggable","selectable","connectable","snapGrid"]);(0,o.Gt)(sa,e.id);const n=al();(0,d.lW)(n,"nodeExtent");const i=(0,d.lW)(n,"edges");(0,d.lW)(n,"viewport");const r=(0,d.lW)(n,"noPanClassName"),a=(0,d.lW)(n,"selectNodesOnDrag"),s=(0,d.lW)(n,"nodesSelectionActive"),l=(0,d.lW)(n,"multiSelectionActive"),u=(0,d.lW)(n,"emits"),c=(0,d.lW)(n,"getNode"),p=(0,d.lW)(n,"removeSelectedElements"),f=(0,d.lW)(n,"addSelectedNodes"),v=(0,d.lW)(n,"updateNodeDimensions"),g=(0,d.lW)(n,"onUpdateNodeInternals"),m=ve(t,"node"),y=(0,o.EW)((()=>m.value.parentNode?c.value(m.value.parentNode):void 0)),b=(0,d.KR)();(0,o.Gt)(la,b);const{emit:w,on:x}=El(m.value,u.value),k=kl({id:e.id,el:b,disabled:(0,o.EW)((()=>!e.draggable)),onStart(e,t,n){w.dragStart({event:e,node:t,nodes:n})},onDrag(e,t,n){w.drag({event:e,node:t,nodes:n})},onStop(e,t,n){w.dragStop({event:e,node:t,nodes:n})}}),_=(e,t)=>{m.value.computedPosition=t?Oa({x:t.x,y:t.y,z:t.z},e):e},E=()=>{b.value&&v.value([{id:e.id,nodeElement:b.value,forceUpdate:!0}]),_({x:m.value.position.x,y:m.value.position.y,z:m.value.computedPosition.z?m.value.computedPosition.z:m.value.selected?1e3:0},y.value?{...y.value.computedPosition}:void 0)};g.value((t=>{t.includes(e.id)&&E()})),_({x:m.value.position.x,y:m.value.position.y,z:m.value.computedPosition.z?m.value.computedPosition.z:m.value.selected?1e3:0},y.value?{...y.value.computedPosition}:void 0),(0,o.sV)((()=>{t.resizeObserver.observe(b.value)})),(0,o.wB)([()=>m.value.type,()=>m.value.sourcePosition,()=>m.value.targetPosition],(()=>{v.value([{id:e.id,nodeElement:b.value,forceUpdate:!0}])}),{flush:"post"}),(0,o.wB)([()=>m.value.position.x,()=>m.value.position.y,()=>{var e;return null==(e=y.value)?void 0:e.computedPosition.x},()=>{var e;return null==(e=y.value)?void 0:e.computedPosition.y},()=>{var e;return null==(e=y.value)?void 0:e.computedPosition.z},()=>m.value.selected,()=>m.value.dimensions,()=>{var e;return null==(e=y.value)?void 0:e.dimensions}],(([e,t,n,o,i])=>{const r={x:e,y:t,z:m.value.selected?1e3:0};_(r,n&&o?{x:n,y:o,z:i}:void 0)}),{flush:"post"}),(0,o.xo)((()=>{t.resizeObserver.unobserve(b.value)}));const S=e=>{(null==k?void 0:k.value)||w.mouseEnter({event:e,node:m.value,connectedEdges:Wa([m.value],i.value)})},C=e=>{(null==k?void 0:k.value)||w.mouseMove({event:e,node:m.value,connectedEdges:Wa([m.value],i.value)})},N=e=>{(null==k?void 0:k.value)||w.mouseLeave({event:e,node:m.value,connectedEdges:Wa([m.value],i.value)})},M=e=>{w.contextMenu({event:e,node:m.value,connectedEdges:Wa([m.value],i.value)})},T=e=>{w.doubleClick({event:e,node:m.value,connectedEdges:Wa([m.value],i.value)})},B=t=>{!e.selectable||a.value&&e.draggable||Va(m.value,l.value,f.value,p.value,s),w.click({event:t,node:m.value,connectedEdges:Wa([m.value],i.value)})},P=(0,o.EW)((()=>m.value.class instanceof Function?m.value.class(m.value):m.value.class)),R=(0,o.EW)((()=>{const e=(m.value.style instanceof Function?m.value.style(m.value):m.value.style)||{},t=m.value.width instanceof Function?m.value.width(m.value):m.value.width,n=m.value.height instanceof Function?m.value.height(m.value):m.value.height;return t&&(e.width="string"===typeof t?t:`${t}px`),n&&(e.height="string"===typeof n?n:`${n}px`),e}));return(t,n)=>{var i;return(0,o.uX)(),(0,o.CE)("div",{ref_key:"nodeElement",ref:b,class:(0,h.C4)(["vue-flow__node",[`vue-flow__node-${e.name}`,r.value,{dragging:(0,d.R1)(k),selected:m.value.selected,selectable:e.selectable},(0,d.R1)(P)]]),style:(0,h.Tr)({zIndex:null!=(i=m.value.computedPosition.z)?i:0,transform:`translate(${m.value.computedPosition.x}px,${m.value.computedPosition.y}px)`,pointerEvents:e.selectable||e.draggable?"all":"none",...(0,d.R1)(R)}),"data-id":m.value.id,onMouseenter:S,onMousemove:C,onMouseleave:N,onContextmenu:M,onClick:B,onDblclick:T},[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.type),{id:m.value.id,type:m.value.type,data:m.value.data,events:{...m.value.events,...(0,d.R1)(x)},selected:!!m.value.selected,connectable:e.connectable,position:m.value.position,dimensions:m.value.dimensions,"is-valid-target-pos":m.value.isValidTargetPos,"is-valid-source-pos":m.value.isValidSourcePos,"parent-node":m.value.parentNode,dragging:(0,d.R1)(k),"z-index":m.value.computedPosition.z,"target-position":m.value.targetPosition,"source-position":m.value.sourcePosition,label:m.value.label,"drag-handle":m.value.dragHandle,onUpdateNodeInternals:E},null,40,["id","type","data","events","selected","connectable","position","dimensions","is-valid-target-pos","is-valid-source-pos","parent-node","dragging","z-index","target-position","source-position","label","drag-handle"]))],46,ss)}}}),cs=["transform"],ds=["width","height","x","y","rx","ry"],hs=["y"],ps={name:"EdgeText"},fs=(0,o.pM)({...ps,props:{x:null,y:null,label:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=(0,d.KR)();let n=(0,d.KR)({x:0,y:0,width:0,height:0});(0,o.sV)((()=>{n.value=t.value.getBBox()}));const i=(0,o.EW)((()=>`translate(${e.x-n.value.width/2} ${e.y-n.value.height/2})`));return(r,a)=>((0,o.uX)(),(0,o.CE)("g",{transform:(0,d.R1)(i),class:"vue-flow__edge-textwrapper"},[e.labelShowBg?((0,o.uX)(),(0,o.CE)("rect",{key:0,class:"vue-flow__edge-textbg",width:`${n.value.width+2*e.labelBgPadding[0]}px`,height:`${n.value.height+2*e.labelBgPadding[1]}px`,x:-e.labelBgPadding[0],y:-e.labelBgPadding[1],style:(0,h.Tr)(e.labelBgStyle),rx:e.labelBgBorderRadius,ry:e.labelBgBorderRadius},null,12,ds)):(0,o.Q3)("",!0),(0,o.Lk)("text",(0,o.v6)(r.$attrs,{ref_key:"el",ref:t,class:"vue-flow__edge-text",y:n.value.height/2,dy:"0.3em",style:e.labelStyle}),[(0,o.RG)(r.$slots,"default",{},(()=>["string"!==typeof e.label&&(e.label,1)?((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.label),{key:0})):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.eW)((0,h.v_)(e.label),1)],64))]))],16,hs)],8,cs))}}),vs=function({path:e,centerX:t,centerY:n,label:i,labelBgBorderRadius:r,labelBgPadding:a,labelBgStyle:s,labelShowBg:l,labelStyle:u,markerStart:c,markerEnd:d,style:h}){return[(0,o.h)("path",{style:{...h},d:e,class:"vue-flow__edge-path","marker-end":d,"marker-start":c}),i?(0,o.h)(fs,{x:t,y:n,label:i,labelStyle:u,labelShowBg:l,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:r}):null]};function gs(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function ms({pos:e,x1:t,y1:n,x2:o,y2:i,c:r}){let a,s;switch(e){case ta.Left:a=t-gs(t-o,r),s=n;break;case ta.Right:a=t+gs(o-t,r),s=n;break;case ta.Top:a=t,s=n-gs(n-i,r);break;case ta.Bottom:a=t,s=n+gs(i-n,r);break}return[a,s]}function ys({sourceX:e,sourceY:t,sourcePosition:n=ta.Bottom,targetX:o,targetY:i,targetPosition:r=ta.Top,curvature:a=.25}){const[s,l]=ms({pos:n,x1:e,y1:t,x2:o,y2:i,c:a}),[u,c]=ms({pos:r,x1:o,y1:i,x2:e,y2:t,c:a});return`M${e},${t} C${s},${l} ${u},${c} ${o},${i}`}function bs({sourceX:e,sourceY:t,sourcePosition:n=ta.Bottom,targetX:o,targetY:i,targetPosition:r=ta.Top,curvature:a=.25}){const[s,l]=ms({pos:n,x1:e,y1:t,x2:o,y2:i,c:a}),[u,c]=ms({pos:r,x1:o,y1:i,x2:e,y2:t,c:a}),d=.125*e+.375*s+.375*u+.125*o,h=.125*t+.375*l+.375*c+.125*i,p=Math.abs(d-e),f=Math.abs(h-t);return[d,h,p,f]}function ws({pos:e,x1:t,y1:n,x2:o,y2:i}){let r,a;switch(e){case ta.Left:case ta.Right:r=.5*(t+o),a=n;break;case ta.Top:case ta.Bottom:r=t,a=.5*(n+i);break}return[r,a]}function xs({sourceX:e,sourceY:t,sourcePosition:n=ta.Bottom,targetX:o,targetY:i,targetPosition:r=ta.Top}){const[a,s]=ws({pos:n,x1:e,y1:t,x2:o,y2:i}),[l,u]=ws({pos:r,x1:o,y1:i,x2:e,y2:t});return`M${e},${t} C${a},${s} ${l},${u} ${o},${i}`}function ks({sourceX:e,sourceY:t,sourcePosition:n=ta.Bottom,targetX:o,targetY:i,targetPosition:r=ta.Top}){const[a,s]=ws({pos:n,x1:e,y1:t,x2:o,y2:i}),[l,u]=ws({pos:r,x1:o,y1:i,x2:e,y2:t}),c=.125*e+.375*a+.375*l+.125*o,d=.125*t+.375*s+.375*u+.125*i,h=Math.abs(c-e),p=Math.abs(d-t);return[c,d,h,p]}vs.props=["path","centerX","centerY","label","labelBgBorderRadius","labelBgPadding","labelBgStyle","labelShowBg","labelStyle","markerStart","markerEnd","style"],vs.inheritAttrs=!1;const _s=[ta.Left,ta.Right],Es=({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:i=ta.Bottom,targetPosition:r=ta.Top})=>{const a=_s.includes(i),s=_s.includes(r),l=a&&!s||s&&!a;if(l){const i=a?Math.abs(n-e):0,r=e>n?e-i:e+i,s=a?0:Math.abs(o-t),l=t<o?t+s:t-s;return[r,l,i,s]}const u=Math.abs(n-e)/2,c=n<e?n+u:n-u,d=Math.abs(o-t)/2,h=o<t?o+d:o-d;return[c,h,u,d]},Ss={[ta.Left]:{x:-1,y:0},[ta.Right]:{x:1,y:0},[ta.Top]:{x:0,y:-1},[ta.Bottom]:{x:0,y:1}},Cs=({source:e,sourcePosition:t=ta.Bottom,target:n})=>t===ta.Left||t===ta.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Ns=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2);function Ms({source:e,sourcePosition:t=ta.Bottom,target:n,targetPosition:o=ta.Top,center:i,offset:r}){const a=Ss[t],s=Ss[o],l={x:e.x+a.x*r,y:e.y+a.y*r},u={x:n.x+s.x*r,y:n.y+s.y*r},c=Cs({source:l,sourcePosition:t,target:u}),d=0!==c.x?"x":"y",h=c[d];let p=[];if(a[d]*s[d]===-1){const e=[{x:i.x,y:l.y},{x:i.x,y:u.y}],t=[{x:l.x,y:i.y},{x:u.x,y:i.y}];p=a[d]===h?"x"===d?e:t:"x"===d?t:e}else{const e=[{x:l.x,y:u.y}],n=[{x:u.x,y:l.y}];if(p="x"===d?a.x===h?n:e:a.y===h?e:n,t!==o){const t="x"===d?"y":"x",o=a[d]===s[t],i=l[t]>u[t],r=l[t]<u[t],c=1===a[d]&&(!o&&i||o&&r)||1!==a[d]&&(!o&&r||o&&i);c&&(p="x"===d?e:n)}}return[e,l,...p,u,n]}function Ts(e,t,n,o){const i=Math.min(Ns(e,t)/2,Ns(t,n)/2,o),{x:r,y:a}=t;if(e.x===r&&r===n.x||e.y===a&&a===n.y)return`L${r} ${a}`;if(e.y===a){const t=e.x<n.x?-1:1,o=e.y<n.y?1:-1;return`L ${r+i*t},${a}Q ${r},${a} ${r},${a+i*o}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${r},${a+i*l}Q ${r},${a} ${r+i*s},${a}`}function Bs({sourceX:e,sourceY:t,sourcePosition:n=ta.Bottom,targetX:o,targetY:i,targetPosition:r=ta.Top,borderRadius:a=5,centerX:s,centerY:l,offset:u=20}){const[c,d]=Es({sourceX:e,sourceY:t,targetX:o,targetY:i}),h="undefined"!==typeof s?s:c,p="undefined"!==typeof l?l:d,f=Ms({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:i},targetPosition:r,center:{x:h,y:p},offset:u});return f.reduce(((e,t,n)=>{let o="";return o=n>0&&n<f.length-1?Ts(f[n-1],t,f[n+1],a):`${0===n?"M":"L"}${t.x} ${t.y}`,e+=o,e}),"")}const Ps=function({sourcePosition:e=ta.Bottom,targetPosition:t=ta.Top,label:n,labelStyle:i={},labelShowBg:r=!0,labelBgStyle:a={},labelBgPadding:s,labelBgBorderRadius:l,sourceY:u,sourceX:c,targetX:d,targetY:h,curvature:p,markerEnd:f,markerStart:v,style:g}){const[m,y]=bs({sourceX:c,sourceY:u,targetX:d,targetY:h,sourcePosition:e,targetPosition:t,curvature:p}),b=ys({sourceX:c,sourceY:u,targetX:d,targetY:h,sourcePosition:e,targetPosition:t,curvature:p});return(0,o.h)(vs,{path:b,centerX:m,centerY:y,label:n,labelStyle:i,labelShowBg:r,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l,style:g,markerEnd:f,markerStart:v})};Ps.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","style"],Ps.inheritAttrs=!1;const Rs=function({sourcePosition:e=ta.Bottom,targetPosition:t=ta.Top,label:n,labelStyle:i={},labelShowBg:r=!0,labelBgStyle:a={},labelBgPadding:s,labelBgBorderRadius:l,sourceY:u,sourceX:c,targetX:d,targetY:h,markerEnd:p,markerStart:f,style:v}){const[g,m]=ks({sourceX:c,sourceY:u,targetX:d,targetY:h,sourcePosition:e,targetPosition:t}),y=xs({sourceX:c,sourceY:u,targetX:d,targetY:h,sourcePosition:e,targetPosition:t});return(0,o.h)(vs,{path:y,centerX:g,centerY:m,label:n,labelStyle:i,labelShowBg:r,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l,style:v,markerEnd:p,markerStart:f})};Rs.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","style"],Rs.inheritAttrs=!1;const Ws=function({sourcePosition:e=ta.Bottom,targetPosition:t=ta.Top,label:n,labelStyle:i={},labelShowBg:r=!0,labelBgStyle:a={},labelBgPadding:s,labelBgBorderRadius:l,sourceY:u,sourceX:c,targetX:d,targetY:h,markerEnd:p,markerStart:f,borderRadius:v,offset:g,style:m}){const[y,b]=Es({sourceX:c,sourceY:u,targetX:d,targetY:h,sourcePosition:e,targetPosition:t}),w=Bs({sourceX:c,sourceY:u,targetX:d,targetY:h,sourcePosition:e,targetPosition:t,borderRadius:v,offset:g});return(0,o.h)(vs,{path:w,centerX:y,centerY:b,label:n,labelStyle:i,labelShowBg:r,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l,style:m,markerEnd:p,markerStart:f})};Ws.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","offset","markerEnd","markerStart","style"],Ws.inheritAttrs=!1;const Is=function(e){return(0,o.h)(Ws,{...e,borderRadius:0})};Is.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","style"],Is.inheritAttrs=!1;const Os=function({label:e,labelStyle:t={},labelShowBg:n=!0,labelBgStyle:i={},labelBgPadding:r,labelBgBorderRadius:a,sourceY:s,sourceX:l,targetX:u,targetY:c,markerEnd:d,markerStart:h,style:p}){const f=(0,o.EW)((()=>{const e=Math.abs(c-s)/2;return c<s?c+e:c-e})),v=(0,o.EW)((()=>{const e=Math.abs(u-l)/2;return u<l?u+e:u-e}));return(0,o.h)(vs,{path:`M ${l},${s}L ${u},${c}`,centerX:v.value,centerY:f.value,label:e,labelStyle:t,labelShowBg:n,labelBgStyle:i,labelBgPadding:r,labelBgBorderRadius:a,style:p,markerEnd:d,markerStart:h})};Os.props=["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","style"],Os.inheritAttrs=!1;const $s=(e,t,n)=>n===ta.Left?e-t:n===ta.Right?e+t:e,Xs=(e,t,n)=>n===ta.Top?e-t:n===ta.Bottom?e+t:e,zs=function({radius:e=10,centerX:t=0,centerY:n=0,position:i=ta.Top}){const r=(0,o.EW)((()=>{const n=$s(t,e,i);return isNaN(n)?0:n})),a=(0,o.EW)((()=>{const t=Xs(n,e,i);return isNaN(t)?0:t}));return(0,o.h)("circle",{class:"vue-flow__edgeupdater",cx:r.value,cy:a.value,r:e,stroke:"transparent",fill:"transparent"})};zs.props=["radius","centerX","centerY","position"];const As=(0,o.pM)({props:["name","type","id","data","events","labelBgBorderRadius","labelBgPadding","labelBgStyle","labelStyle","labelShowBg","style","animated","label","updatable","selectable","target","source","sourceNode","targetNode","sourceHandleId","targetHandleId","selected","markerEnd","markerStart","connectionMode","edgeUpdaterRadius","updating"],emits:["source-mousedown","target-mousedown"],setup(e,{emit:t}){let n=(0,d.KR)(!1);const i=(0,d.KR)();(0,o.Gt)(ua,e.id),(0,o.Gt)(ca,i);const r=()=>n.value=!0,a=()=>n.value=!1,s=e=>{t("source-mousedown",e)},l=e=>{t("target-mousedown",e)};return()=>{var t,u;if(!e.sourceNode||!e.targetNode)return null;let c;c=e.connectionMode===oa.Strict?e.sourceNode.handleBounds.source:null!=(t=e.sourceNode.handleBounds.source)?t:e.sourceNode.handleBounds.target;const d=Aa(c,e.sourceHandleId);let h;h=e.connectionMode===oa.Strict?e.targetNode.handleBounds.target:null!=(u=e.targetNode.handleBounds.target)?u:e.targetNode.handleBounds.source;const p=Aa(h,e.targetHandleId),f=d?d.position:ta.Bottom,v=p?p.position:ta.Top,{sourceX:g,sourceY:m,targetY:y,targetX:b}=Ha(e.sourceNode,d,f,e.targetNode,p,v);return(0,o.h)("g",{ref:i,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${e.name}`,{updating:n.value,selected:e.selected,animated:e.animated,inactive:!e.selectable}]},[e.updating?null:(0,o.h)(e.type,{id:e.id,sourceNode:e.sourceNode,targetNode:e.targetNode,source:e.source,target:e.target,updatable:e.updatable,selected:e.selected,animated:e.animated,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,data:e.data,events:e.events,style:e.style,markerStart:`url(#${Xa(e.markerStart)})`,markerEnd:`url(#${Xa(e.markerEnd)})`,sourcePosition:f,targetPosition:v,sourceX:g,sourceY:m,targetX:b,targetY:y,sourceHandleId:e.sourceHandleId,targetHandleId:e.targetHandleId}),["source"===e.updatable||!0===e.updatable?[(0,o.h)("g",{onMousedown:s,onMouseenter:r,onMouseout:a},(0,o.h)(zs,{position:f,centerX:g,centerY:m,radius:e.edgeUpdaterRadius,"data-type":"source"}))]:null,"target"===e.updatable||!0===e.updatable?[(0,o.h)("g",{onMousedown:l,onMouseenter:r,onMouseout:a},(0,o.h)(zs,{position:v,centerX:b,centerY:y,radius:e.edgeUpdaterRadius,"data-type":"target"}))]:null]])}}}),Hs={class:"vue-flow__connection"},Ls=["d","marker-end","marker-start"],Ys={name:"ConnectionLine"},Ds=(0,o.pM)({...Ys,props:{sourceNode:null},setup(e){var t,n,i;const r=al(),a=(0,d.lW)(r,"getNodes"),s=(0,d.lW)(r,"connectionStartHandle"),l=(0,d.lW)(r,"connectionPosition"),u=(0,d.lW)(r,"connectionLineType"),c=(0,d.lW)(r,"connectionLineStyle"),p=(0,d.lW)(r,"connectionLineOptions"),f=(0,d.lW)(r,"viewport"),v=null==(t=(0,o.WQ)(da))?void 0:t["connection-line"],g=null==v?void 0:v({}),m=s.value.handleId;s.value.nodeId;const y=s.value.type,b=m&&y?null==(n=e.sourceNode.handleBounds[y])?void 0:n.find((e=>e.id===m)):y&&(null==(i=e.sourceNode.handleBounds[null!=y?y:"source"])?void 0:i[0]),w=b?b.x+b.width/2:e.sourceNode.dimensions.width/2,x=b?b.y+b.height/2:e.sourceNode.dimensions.height,k=e.sourceNode.computedPosition.x+w,_=e.sourceNode.computedPosition.y+x,E=(null==b?void 0:b.position)===ta.Left||(null==b?void 0:b.position)===ta.Right,S=E?ta.Left:ta.Top,C=(0,o.EW)((()=>(l.value.x-f.value.x)/f.value.zoom)),N=(0,o.EW)((()=>(l.value.y-f.value.y)/f.value.zoom)),M=(0,o.EW)((()=>{let e=`M${k},${_} ${C.value},${N.value}`;switch(u.value||p.value.type){case na.Bezier:e=ys({sourceX:k,sourceY:_,sourcePosition:null==b?void 0:b.position,targetX:C.value,targetY:N.value,targetPosition:S});break;case na.Step:e=Bs({sourceX:k,sourceY:_,sourcePosition:null==b?void 0:b.position,targetX:C.value,targetY:N.value,targetPosition:S,borderRadius:0});break;case na.SmoothStep:e=Bs({sourceX:k,sourceY:_,sourcePosition:null==b?void 0:b.position,targetX:C.value,targetY:N.value,targetPosition:S});break}return e}));return(t,n)=>{var i;return(0,o.uX)(),(0,o.CE)("g",Hs,[(0,d.R1)(g)?((0,o.uX)(),(0,o.Wv)((0,o.$y)((0,d.R1)(v)),(0,h._B)((0,o.v6)({key:0},{sourceX:k,sourceY:_,sourcePosition:null==(i=(0,d.R1)(b))?void 0:i.position,targetX:C.value,targetY:N.value,targetPosition:(0,d.R1)(S),nodes:a.value,sourceNode:e.sourceNode,sourceHandle:(0,d.R1)(b),markerEnd:`url(#${(0,d.R1)(Xa)(p.value.markerEnd)})`,markerStart:`url(#${(0,d.R1)(Xa)(p.value.markerStart)})`})),null,16)):((0,o.uX)(),(0,o.CE)("path",{key:1,d:(0,d.R1)(M),class:(0,h.C4)(["vue-flow__connection-path",p.value.class]),style:(0,h.Tr)(c.value||p.value.style||{}),"marker-end":`url(#${(0,d.R1)(Xa)(p.value.markerEnd)})`,"marker-start":`url(#${(0,d.R1)(Xa)(p.value.markerStart)})`},null,14,Ls))])}}}),Vs={name:"NodesSelection"},js=(0,o.pM)({...Vs,setup(e){const t=al(),n=(0,d.lW)(t,"emits");(0,d.lW)(t,"setState");const i=(0,d.lW)(t,"viewport"),r=(0,d.lW)(t,"getSelectedNodes");(0,d.lW)(t,"snapToGrid"),(0,d.lW)(t,"snapGrid");const a=(0,d.lW)(t,"noPanClassName"),s=(0,d.KR)();kl({el:s,onStart(e,t,o){n.value.selectionDragStart({event:e,node:t,nodes:o})},onDrag(e,t,o){n.value.selectionDrag({event:e,node:t,nodes:o})},onStop(e,t,o){n.value.selectionDragStop({event:e,node:t,nodes:o})}});const l=(0,o.EW)((()=>Pa(r.value))),u=(0,o.EW)((()=>({width:`${l.value.width}px`,height:`${l.value.height}px`,top:`${l.value.y}px`,left:`${l.value.x}px`}))),c=e=>n.value.selectionContextMenu({event:e,nodes:r.value});return(e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,h.C4)(["vue-flow__nodesselection vue-flow__container",a.value]),style:(0,h.Tr)({transform:`translate(${i.value.x}px,${i.value.y}px) scale(${i.value.zoom})`})},[(0,o.Lk)("div",{ref_key:"el",ref:s,class:"vue-flow__nodesselection-rect",style:(0,h.Tr)((0,d.R1)(u)),onContextmenu:c},null,36)],6))}}),Fs={name:"SelectionRect"},qs=(0,o.pM)({...Fs,props:{width:null,height:null,x:null,y:null},setup(e){return(t,n)=>((0,o.uX)(),(0,o.CE)("div",{class:"vue-flow__selection",style:(0,h.Tr)({width:`${e.width}px`,height:`${e.height}px`,transform:`translate(${e.x}px, ${e.y}px)`})},null,4))}});function Ks(e){const t=e.target.closest(".vue-flow");if(!t)return;const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}const Us={ref:"user-selection",class:"vue-flow__selectionpane vue-flow__container"},Gs={name:"UserSelection"},Zs=(0,o.pM)({...Gs,setup(e){const{userSelectionActive:t,nodesSelectionActive:n,getNodes:i,getEdges:r,viewport:a,addSelectedEdges:s,addSelectedNodes:l}=al(),u=Z("user-selection",null);let c=(0,d.KR)(0),h=(0,d.KR)(0);const p=()=>({width:0,height:0,startX:0,startY:0,x:0,y:0,draw:!1});let f=(0,d.KR)(p());const v=()=>{f.value=p(),c.value=0,h.value=0,t.value=!1},g=e=>{const o=Ks(e);o&&(f.value={width:0,height:0,startX:o.x,startY:o.y,x:o.x,y:o.y,draw:!0},t.value=!0,n.value=!0)},m=e=>{if(!t||!f.value.draw)return;const n=Ks(e);if(!n)return;const o=f.value.startX,u=f.value.startY,d={...f.value,x:n.x<o?n.x:f.value.x,y:n.y<u?n.y:f.value.y,width:Math.abs(n.x-o),height:Math.abs(n.y-u)},p=Ra(i.value,f.value,a.value),v=Wa(p,r.value);f.value=d,l(p),s(v),c.value=p.length,h.value=v.length},y=()=>{f.value=p(),n.value=c.value>0,t.value=!1},b=()=>{n.value=c.value>0,v()};return K(u,"mousedown",g),K(u,"mousemove",m),K(u,"click",y),K(u,"mouseup",y),K(u,"mouseleave",b),(0,o.xo)(v),(e,t)=>((0,o.uX)(),(0,o.CE)("div",Us,[f.value.draw?((0,o.uX)(),(0,o.Wv)(qs,{key:0,width:f.value.width,height:f.value.height,x:f.value.x,y:f.value.y},null,8,["width","height","x","y"])):(0,o.Q3)("",!0)],512))}}),Qs={input:rs,default:is,output:as},Js={default:Ps,straight:Os,step:Is,smoothstep:Ws,simplebezier:Rs},el=e=>"undefined"!==typeof e,tl=()=>({vueFlowRef:null,viewportRef:null,nodes:[],edges:[],nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:ra.Free,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultZoom:1,defaultPosition:[0,0],nodesSelectionActive:!1,userSelectionActive:!1,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:na.Bezier,connectionLineOptions:{type:na.Bezier,style:{}},connectionMode:oa.Loose,connectionStartHandle:null,connectionPosition:{x:NaN,y:NaN},connectOnClick:!0,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,nodesConnectable:!0,nodesDraggable:!0,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:"Meta",zoomActivationKeyCode:"Meta",deleteKeyCode:"Backspace",hooks:ha(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,vueFlowVersion:"0.4.40"});var nl=e=>{const t=tl();return e&&Object.keys(e).forEach((n=>{const o=e[n];el(o)&&(t[n]=o)})),t},ol=(e,t)=>{const n=t=>{e.hooks.updateNodeInternals.trigger(t)},i=(0,d.KR)();e.hooks.paneReady.on((({id:e})=>{i.value=gl(e)}));const r=async()=>new Promise((e=>{i.value?e(i.value):T(i).not.toBeUndefined().then((()=>e(i.value)))})),a=(n,o,i)=>{const r=[];n.forEach((e=>{var n,a,s,l;const u={id:e.id,type:"position",dragging:i,from:e.from};if(o&&(u.computedPosition=e.position,u.position=e.position,e.parentNode)){const o=t.getNode.value(e.parentNode);u.position={x:u.position.x-(null!=(a=null==(n=null==o?void 0:o.computedPosition)?void 0:n.x)?a:0),y:u.position.y-(null!=(l=null==(s=null==o?void 0:o.computedPosition)?void 0:s.y)?l:0)}}r.push(u)})),(null==r?void 0:r.length)&&e.hooks.nodesChange.trigger(r)},s=n=>{if(!e.vueFlowRef)return;const o=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!o)return;const i=n.reduce(((e,n)=>{const i=t.getNode.value(n.id);if(i){const t=fa(n.nodeElement),r=window.getComputedStyle(o),{m22:a}=new window.DOMMatrixReadOnly(r.transform),s=!(!t.width||!t.height||i.dimensions.width===t.width&&i.dimensions.height===t.height)||n.forceUpdate;s&&(i.handleBounds.source=Da(".source",n.nodeElement,a),i.handleBounds.target=Da(".target",n.nodeElement,a),i.dimensions=t,e.push({id:i.id,type:"dimensions",dimensions:t}))}return e}),[]);i.length&&e.hooks.nodesChange.trigger(i)},l=(t,n)=>{const o=t.map((e=>e.id));let i;i=e.multiSelectionActive?o.map((e=>qa(e,n))):Ga(e.nodes,o),i.length&&e.hooks.nodesChange.trigger(i)},u=(t,n)=>{const o=t.map((e=>e.id));let i;i=e.multiSelectionActive?o.map((e=>qa(e,n))):Ga(e.edges,o),i.length&&e.hooks.edgesChange.trigger(i)},c=e=>{l(e,!0)},h=e=>{u(e,!0)},p=e=>{c(e.filter(xa)),h(e.filter(ba))},f=e=>{l(e,!1)},v=e=>{u(e,!1)},g=e=>{e?(e.nodes&&f(e.nodes.filter(xa)),e.edges&&v(e.edges.filter(ba))):(f([]),v([]))},m=t=>{var n;null==(n=e.d3Zoom)||n.scaleExtent([t,e.maxZoom]),e.minZoom=t},y=t=>{var n;null==(n=e.d3Zoom)||n.scaleExtent([e.minZoom,t]),e.maxZoom=t},b=t=>{var n;null==(n=e.d3Zoom)||n.translateExtent(t),e.translateExtent=t},w=async o=>{if(e.nodeExtent=o,i.value){const e=t.getNodes.value.map((e=>e.id));n(e)}},x=t=>{e.nodesDraggable=t,e.nodesConnectable=t,e.elementsSelectable=t},k=(n,o)=>{if(!e.initialized&&!n.length)return;e.nodes||(e.nodes=[]);const i=n instanceof Function?n(e.nodes):n;e.nodes=es(i,t.getNode.value,e.nodes,null!=o?o:e.nodeExtent)},_=n=>{if(!e.initialized&&!n.length)return;const o=n instanceof Function?n(e.edges):n;e.edges=o.reduce(((n,o)=>{const i=t.getNode.value(o.source),r=t.getNode.value(o.target),a=!i||"undefined"===typeof i,s=!r||"undefined"===typeof r;if(a&&console.warn(`[vue-flow]: Couldn't create edge for source id: ${o.source}; edge id: ${o.id}`),s&&console.warn(`[vue-flow]: Couldn't create edge for target id: ${o.target}; edge id: ${o.id}`),a||s)return n;const l=t.getEdge.value(o.id);return n.push((0,d.Gc)({..._a(o,Object.assign({},l,e.defaultEdgeOptions)),sourceNode:i,targetNode:r})),n}),[])},E=(t,n)=>{if(!e.initialized&&!t.length||!t)return;const o=t instanceof Function?t([...e.nodes,...e.edges]):t;k(o.filter(wa),n),_(o.filter(ya))},S=(n,o)=>{const i=n instanceof Function?n(e.nodes):n,r=es(i,t.getNode.value,e.nodes,null!=o?o:e.nodeExtent),a=r.map(Ka);a.length&&e.hooks.nodesChange.trigger(a)},C=n=>{const o=n instanceof Function?n(e.edges):n,i=o.reduce(((n,o)=>{const i=Qa({...o,...e.defaultEdgeOptions},e.edges);if(i){const e=t.getNode.value(i.source),o=t.getNode.value(i.target),r=!e||"undefined"===typeof e,a=!o||"undefined"===typeof o;if(r&&console.warn(`[vueflow]: Couldn't create edge for source id: ${i.source}; edge id: ${i.id}`),a&&console.warn(`[vueflow]: Couldn't create edge for target id: ${i.target}; edge id: ${i.id}`),a||r)return n;n.push(Ka((0,d.Gc)({...i,sourceNode:e,targetNode:o})))}return n}),[]);i.length&&e.hooks.edgesChange.trigger(i)},N=(t,n=!0)=>{const o=t instanceof Function?t(e.nodes):t,i=[],r=[];o.forEach((t=>{if(i.push(Ua("string"===typeof t?t:t.id)),n){const n=Wa(["string"===typeof t?{id:t}:t],e.edges);r.push(...n.map((e=>Ua(e.id))))}})),i.length&&e.hooks.nodesChange.trigger(i),r.length&&e.hooks.edgesChange.trigger(r)},M=t=>{const n=t instanceof Function?t(e.edges):t,o=[];n.forEach((e=>{o.push(Ua("string"===typeof e?e:e.id))})),e.hooks.edgesChange.trigger(o)},B=(0,o.EW)((()=>e.nodes.map((e=>e.id)))),P=(0,o.EW)((()=>e.edges.map((e=>e.id)))),R=t=>e.nodes&&!B.value.length?e.nodes.find((e=>e.id===t)):e.nodes[B.value.indexOf(t)],W=t=>e.edges&&!P.value.length?e.edges.find((e=>e.id===t)):e.edges[P.value.indexOf(t)],I=(t,n)=>Ja(t,n,e.edges),O=t=>Fa(t,e.nodes),$=t=>Fa(t,e.edges),X=(t,n,o)=>{e.connectionStartHandle=t,n&&(e.connectionPosition=n),e.hooks.connectStart.trigger({event:o,nodeId:t.nodeId,handleId:t.handleId,handleType:t.type})},z=t=>{e.connectionPosition=t},A=t=>{e.connectionPosition={x:NaN,y:NaN},e.connectionStartHandle=null,e.hooks.connectEnd.trigger(t)},H=t=>{var n,o;const i=t instanceof Function?t(e):t,r=["modelValue","nodes","edges","maxZoom","minZoom","translateExtent","nodeExtent","hooks"];"undefined"!==typeof i.modelValue&&E(i.modelValue,null!=(n=i.nodeExtent)?n:e.nodeExtent),"undefined"!==typeof i.nodes&&k(i.nodes,null!=(o=i.nodeExtent)?o:e.nodeExtent),"undefined"!==typeof i.edges&&_(i.edges);const a=()=>{"undefined"!==typeof i.maxZoom&&y(i.maxZoom),"undefined"!==typeof i.minZoom&&m(i.minZoom),"undefined"!==typeof i.translateExtent&&b(i.translateExtent),"undefined"!==typeof i.nodeExtent&&w(i.nodeExtent)};Object.keys(i).forEach((t=>{const n=i[t];!r.includes(t)&&Za(n)&&(e[t]=n)})),e.d3Zoom?a():T((()=>e.d3Zoom)).not.toBeUndefined().then(a),e.initialized||(e.initialized=!0)},L=()=>JSON.parse(JSON.stringify({nodes:e.nodes,edges:e.edges,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom}));return{updateNodePositions:a,updateNodeDimensions:s,setElements:E,setNodes:k,setEdges:_,addNodes:S,addEdges:C,removeNodes:N,removeEdges:M,findNode:R,findEdge:W,updateEdge:I,applyEdgeChanges:$,applyNodeChanges:O,addSelectedElements:p,addSelectedNodes:c,addSelectedEdges:h,setMinZoom:m,setMaxZoom:y,setTranslateExtent:b,setNodeExtent:w,removeSelectedElements:g,removeSelectedNodes:f,removeSelectedEdges:v,startConnection:X,updateConnection:z,endConnection:A,setInteractive:x,setState:H,fitView:async(e={padding:.1})=>{const{fitView:t}=await r();t(e)},zoomIn:async e=>{const{zoomIn:t}=await r();t(e)},zoomOut:async e=>{const{zoomOut:t}=await r();t(e)},zoomTo:async(e,t)=>{const{zoomTo:n}=await r();n(e,t)},setTransform:async(e,t)=>{const{setTransform:n}=await r();n(e,t)},getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),setCenter:async(e,t,n)=>{const{setCenter:o}=await r();o(e,t,n)},fitBounds:async(e,t)=>{const{fitBounds:n}=await r();n(e,t)},project:t=>Ca(t,e.viewport,e.snapToGrid,e.snapGrid),toObject:L,updateNodeInternals:n,$reset:()=>{H(nl())},$destroy:()=>{}}},il=e=>{const t=(0,o.EW)((()=>e.nodes.map((e=>e.id)))),n=(0,o.EW)((()=>e.edges.map((e=>e.id)))),i=(0,o.EW)((()=>n=>e.nodes&&!t.value.length?e.nodes.find((e=>e.id===n)):e.nodes[t.value.indexOf(n)])),r=(0,o.EW)((()=>t=>e.edges&&!n.value.length?e.edges.find((e=>e.id===t)):e.edges[n.value.indexOf(t)])),a=(0,o.EW)((()=>{var t;const n={...Js,...e.edgeTypes},o=Object.keys(n);return null==(t=e.edges)||t.forEach((e=>e.type&&!o.includes(e.type)&&(n[e.type]=e.type))),n})),s=(0,o.EW)((()=>{var t;const n={...Qs,...e.nodeTypes},o=Object.keys(n);return null==(t=e.nodes)||t.forEach((e=>e.type&&!o.includes(e.type)&&(n[e.type]=e.type))),n})),l=(0,o.EW)((()=>{const t=e.nodes.filter((e=>!e.hidden));return e.onlyRenderVisibleElements?t&&Ra(t,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):null!=t?t:[]})),u=(t,n,o)=>(n=null!=n?n:i.value(t.source),o=null!=o?o:i.value(t.target),n&&o?!t.hidden&&o&&!o.hidden&&n&&!n.hidden&&n.dimensions.width&&n.dimensions.height&&o.dimensions.width&&o.dimensions.height:(e.edges=e.edges.filter((e=>e.id!==t.id)),void console.warn(`[vue-flow]: Orphaned edge ${t.id} removed.`))),c=(0,o.EW)((()=>e.onlyRenderVisibleElements?e.edges.filter((t=>{const n=i.value(t.source),o=i.value(t.target);return u(t,n,o)&&La({sourcePos:n.computedPosition||{x:0,y:0},targetPos:o.computedPosition||{x:0,y:0},sourceWidth:n.dimensions.width,sourceHeight:n.dimensions.height,targetWidth:o.dimensions.width,targetHeight:o.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})})):e.edges.filter((e=>u(e))))),d=(0,o.EW)((()=>[...l.value,...c.value])),h=(0,o.EW)((()=>e.nodes.filter((e=>e.selected)))),p=(0,o.EW)((()=>e.edges.filter((e=>e.selected)))),f=(0,o.EW)((()=>{var e,t;return[...null!=(e=h.value)?e:[],...null!=(t=p.value)?t:[]]}));return{getNode:i,getEdge:r,getElements:d,getEdgeTypes:a,getNodeTypes:s,getEdges:c,getNodes:l,getSelectedElements:f,getSelectedNodes:h,getSelectedEdges:p}};class rl{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){return rl.instance||(rl.instance=new rl),rl.instance}set(e,t){return this.flows.set(e,t)}get(e){return this.flows.get(e)}remove(e){return this.flows.delete(e)}create(e,t){const n=nl(t),o=(0,d.Kh)(n),i=il(o),r=ol(o,i),a={};Object.entries(o.hooks).forEach((([e,t])=>{const n=`on${e.charAt(0).toUpperCase()+e.slice(1)}`;a[n]=t.on}));const s={};Object.entries(o.hooks).forEach((([e,t])=>{s[e]=t.trigger})),r.setState(o),t&&(t.modelValue&&r.setElements(t.modelValue),t.nodes&&r.setNodes(t.nodes),t.edges&&r.setEdges(t.edges));const l={...a,...i,...r,...(0,d.QW)(o),emits:s,id:e,$destroy:()=>{this.remove(e)}};return this.set(e,l),l}getId(){return"vue-flow-"+this.currentId++}}var al=e=>{const t=rl.getInstance(),n=(0,d.o5)(),i=null==e?void 0:e.id,r=(null==n?void 0:n.vueFlowId)||i;let a,s=!1;if(n){const e=(0,o.WQ)(aa,null);"undefined"!==typeof e&&null!==e&&(a=e)}if(a||r&&(a=t.get(r)),!a||a&&i&&i!==a.id){const o=null!=i?i:t.getId();a=t.create(o,e),n&&(s=!0)}else e&&a.setState(e);if(!a)throw new Error("[vueflow]: store instance not found.");return n&&((0,o.Gt)(aa,a),n.vueFlowId=a.id,s&&C((()=>{t.get(a.id)&&a.$destroy(),a=null}))),a};const sl=(e,t,n,o,i,r,a,s,l)=>{var u,c;const d=a.elementFromPoint(e.clientX,e.clientY),h=(null==d?void 0:d.classList.contains("target"))||!1,p=(null==d?void 0:d.classList.contains("source"))||!1,f={elementBelow:d,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(d&&(h||p)){f.isHoveringHandle=!0;const e=t!==oa.Strict||(n&&p||!n&&h);if(e){const e=null!=(u=d.getAttribute("data-nodeid"))?u:"",t=null!=(c=d.getAttribute("data-handleid"))?c:"",a=n?e:o,h=n?t:i,p=n?o:e,g=n?i:t,m={source:a,sourceHandle:h,target:p,targetHandle:g};f.connection=m,f.isValid=!v(r)||r(m,{edges:s,sourceNode:l(a),targetNode:l(p)})||!f.connection.target||!f.connection.source}}return f},ll=e=>{null==e||e.classList.remove("vue-flow__handle-valid"),null==e||e.classList.remove("vue-flow__handle-connecting")};var ul=()=>{const e=al(),t=(0,d.lW)(e,"edges"),n=(0,d.lW)(e,"connectOnClick"),o=(0,d.lW)(e,"nodesConnectable"),i=(0,d.lW)(e,"connectionStartHandle"),r=(0,d.lW)(e,"connectionMode"),a=(0,d.lW)(e,"emits"),s=(0,d.lW)(e,"startConnection"),l=(0,d.lW)(e,"updateConnection"),u=(0,d.lW)(e,"endConnection"),c=(0,d.lW)(e,"getNode"),h=(0,d.lW)(e,"vueFlowRef");let p;const f=(e,n,i,d,f,v,g,m)=>{const y=ma(e.target);if(!y)return;let b=f;const w=c.value(i);if(w&&!1===("undefined"===typeof w.connectable?o.value:w.connectable))return;f||w&&(b=d?w.isValidSourcePos:w.isValidTargetPos);const x=y.elementFromPoint(e.clientX,e.clientY),k=null==x?void 0:x.classList.contains("target"),_=null==x?void 0:x.classList.contains("source");if(!h.value||!k&&!_&&!v)return;const E=null!=v?v:k?"target":"source",S=h.value.getBoundingClientRect();function C(e){l.value({x:e.clientX-S.left,y:e.clientY-S.top});const{connection:o,elementBelow:a,isValid:s,isHoveringHandle:u}=sl(e,r.value,d,i,n,b,y,t.value,c.value);if(!u)return ll(p);const h=o.source===o.target;!h&&a&&(p=a,a.classList.add("vue-flow__handle-connecting"),a.classList.toggle("vue-flow__handle-valid",s))}function N(e){const{connection:o,isValid:s}=sl(e,r.value,d,i,n,b,y,t.value,c.value),l=o.source===o.target;s&&!l&&(g?g(o):a.value.connect(o)),v&&(null==m||m()),ll(p),u.value(e),y.removeEventListener("mousemove",C),y.removeEventListener("mouseup",N)}s.value({nodeId:i,handleId:n,type:E},{x:e.clientX-S.left,y:e.clientY-S.top},e),y.addEventListener("mousemove",C),y.addEventListener("mouseup",N)},v=(e,l,d,h,p)=>{var f;if(n.value)if(i.value){let n=null!=p?p:()=>!0;const s=c.value(d);if(s&&!1===("undefined"===typeof s.connectable?o.value:s.connectable))return;p||s&&(n=null!=(f="target"!==h?s.isValidTargetPos:s.isValidSourcePos)?f:()=>!0);const l=ma(e.target),{connection:v,isValid:g}=sl(e,r.value,"target"===i.value.type,i.value.nodeId,i.value.handleId||null,n,l,t.value,c.value),m=v.source===v.target;g&&!m&&a.value.connect(v),u.value(e)}else s.value({nodeId:d,type:h,handleId:l},void 0,e)};return{onMouseDown:f,onClick:v}},cl=()=>"undefined"!==typeof window?window:{chrome:!1};function dl(e){const t=e.target;return["INPUT","SELECT","TEXTAREA"].includes(null==t?void 0:t.nodeName)||(null==t?void 0:t.hasAttribute("contenteditable"))||!!(null==t?void 0:t.closest(".nokey"))}var hl=(e,t)=>{const n=cl();let i=(0,d.KR)(!1);return(0,o.wB)(i,(()=>{t&&"function"===typeof t&&t(i.value)})),G((0,d.R1)(e),(e=>{dl(e)||(e.preventDefault(),i.value=!0)}),{eventName:"keydown"}),G((0,d.R1)(e),(e=>{dl(e)||(e.preventDefault(),i.value=!1)}),{eventName:"keyup"}),"undefined"!==typeof n.addEventListener&&K(n,"blur",(()=>{i.value=!1})),t&&"function"===typeof t&&t(i.value),i};const pl=.1,fl=(e,t=0)=>e.transition().duration(t),vl=async(e,t)=>{const n=cl();return"screen"in n&&(await T(e).toMatch((({height:e,width:t})=>!isNaN(t)&&t>0&&!isNaN(e)&&e>0)),t.length>0&&await T(t).toMatch((e=>!!e.filter((({dimensions:{width:e,height:t}})=>!isNaN(e)&&e>0&&!isNaN(t)&&t>0)).length))),!0};var gl=e=>{const t=al({id:e}),n=(0,d.lW)(t,"onPaneReady"),o=(0,d.lW)(t,"nodes"),i=(0,d.lW)(t,"d3Zoom"),r=(0,d.lW)(t,"d3Selection"),a=(0,d.lW)(t,"dimensions"),s=(0,d.lW)(t,"translateExtent"),l=(0,d.lW)(t,"minZoom"),u=(0,d.lW)(t,"maxZoom"),c=(0,d.lW)(t,"viewport"),h=(0,d.lW)(t,"snapToGrid"),p=(0,d.lW)(t,"snapGrid"),f=(0,d.lW)(t,"getNodes");let v=(0,d.KR)(!1);n.value((()=>v.value=!0));const g=async(e,t)=>{v.value||await vl(a.value,f.value),r.value&&i.value&&i.value.scaleTo(fl(r.value,null==t?void 0:t.duration),e)},m=async(e,t)=>{v.value||await vl(a.value,f.value),r.value&&i.value&&i.value.scaleBy(fl(r.value,t),e)},y=async e=>{await m(1.2,null==e?void 0:e.duration)},b=async e=>{await m(1/1.2,null==e?void 0:e.duration)},w=(e,t,n,o)=>{const{x:a,y:l}=ga({x:-e,y:-t},s.value),u=jr.translate(-a,-l).scale(n);r.value&&i.value&&i.value.transform(fl(r.value,o),u)};return{zoomIn:y,zoomOut:b,zoomTo:g,setTransform:async(e,t)=>{v.value||await vl(a.value,f.value),w(e.x,e.y,e.zoom,null==t?void 0:t.duration)},getTransform:()=>({x:c.value.x,y:c.value.y,zoom:c.value.zoom}),fitView:async(e={padding:pl,includeHiddenNodes:!1,duration:0})=>{var t,n,i;if(v.value||await vl(a.value,f.value),!f.value.length)return;let r=[];e.nodes&&(r=o.value.filter((t=>{var n;return null==(n=e.nodes)?void 0:n.includes(t.id)}))),r&&r.length||(r=e.includeHiddenNodes?r:f.value);const s=Pa(r),{x:c,y:d,zoom:h}=Ia(s,a.value.width,a.value.height,null!=(t=e.minZoom)?t:l.value,null!=(n=e.maxZoom)?n:u.value,null!=(i=e.padding)?i:pl,e.offset);w(c,d,h,null==e?void 0:e.duration)},setCenter:async(e,t,n)=>{v.value||await vl(a.value,f.value);const o="undefined"!==typeof(null==n?void 0:n.zoom)?n.zoom:u.value,i=a.value.width/2-e*o,r=a.value.height/2-t*o;w(i,r,o,null==n?void 0:n.duration)},fitBounds:async(e,t={padding:pl})=>{v.value||await vl(a.value,f.value);const{x:n,y:o,zoom:i}=Ia(e,a.value.width,a.value.height,l.value,u.value,t.padding);w(n,o,i,null==t?void 0:t.duration)},project:e=>Ca(e,c.value,h.value,p.value)}};function ml(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n.value)return!1;o=o.parentElement}while(o);return!1}function yl(e,t,n,o){return e.filter((e=>(e.selected||e.id===o)&&(!e.parentNode||!$a(e,n)))).map((e=>{var n,o;return(0,d.IG)({id:e.id,position:e.computedPosition||{x:0,y:0,z:0},distance:{x:t.x-(null==(n=e.computedPosition)?void 0:n.x)||0,y:t.y-(null==(o=e.computedPosition)?void 0:o.y)||0},from:e.computedPosition,extent:e.extent,parentNode:e.parentNode,dimensions:e.dimensions})}))}function bl({id:e,dragItems:t,getNode:n}){const o=t.map((e=>{const t=n.value(e.id);return{...t}}));return[e?o.find((t=>t.id===e)):o[0],o]}function wl(e,t,n,o,i,r){const a={x:t.x-e.distance.x,y:t.y-e.distance.y};if(n&&o){const[e,t]=o;a.x=e*Math.round(a.x/e),a.y=t*Math.round(a.y/t)}const s=xl(e,r,i);return e.position=s?ga(a,s):a,e}function xl(e,t,n){var o,i,r,a;let s=e.extent||t;if("parent"===e.extent&&n)e.parentNode&&e.dimensions.width&&e.dimensions.height&&(s=n.computedPosition&&n.dimensions.width&&n.dimensions.height?[[n.computedPosition.x,n.computedPosition.y],[n.computedPosition.x+n.dimensions.width-e.dimensions.width,n.computedPosition.y+n.dimensions.height-e.dimensions.height]]:s);else if(e.extent&&e.parentNode){const t=e.extent,l=null!=(i=null==(o=null==n?void 0:n.computedPosition)?void 0:o.x)?i:0,u=null!=(a=null==(r=null==n?void 0:n.computedPosition)?void 0:r.y)?a:0;s=[[t[0][0]+l,t[0][1]+u],[t[1][0]+l,t[1][1]+u]]}return s}function kl(e){const t=(0,d.uY)(),n=t.run((()=>{const t=al(),n=(0,d.lW)(t,"viewport"),i=(0,d.lW)(t,"snapToGrid"),r=(0,d.lW)(t,"snapGrid"),a=(0,d.lW)(t,"noDragClassName"),s=(0,d.lW)(t,"nodes"),l=(0,d.lW)(t,"nodeExtent"),u=(0,d.lW)(t,"getNode"),c=(0,d.lW)(t,"multiSelectionActive"),h=(0,d.lW)(t,"nodesSelectionActive"),p=(0,d.lW)(t,"selectNodesOnDrag"),f=(0,d.lW)(t,"removeSelectedElements"),v=(0,d.lW)(t,"addSelectedNodes"),g=(0,d.lW)(t,"updateNodePositions"),m=e,y=(0,d.lW)(m,"onStart"),b=(0,d.lW)(m,"onDrag"),w=(0,d.lW)(m,"onStop"),x=(0,d.lW)(m,"el"),k=(0,d.lW)(m,"disabled",!1),_=(0,d.lW)(m,"id"),E=(0,d.KR)(!1);let S=(0,d.KR)(),C=(0,d.KR)({x:void 0,y:void 0}),N=(0,d.KR)();const M=e=>(null!=e?e:i.value)?r.value:void 0,T=(e,t)=>{const o=e.sourceEvent.touches?e.sourceEvent.touches[0].clientX:e.sourceEvent.clientX,i=e.sourceEvent.touches?e.sourceEvent.touches[0].clientY:e.sourceEvent.clientY;return Ca({x:o,y:i},n.value,!!t,null!=t?t:r.value)};return(0,o.wB)([()=>k.value,()=>x.value],(()=>{if(x.value){const e=kn(x.value),t=_.value?u.value(_.value):void 0;k.value?e.on(".drag",null):(N.value=Xn().on("start",(e=>{p.value||c.value||!_.value||(null==t?void 0:t.selected)||f.value(),t&&!k.value&&p.value&&Va(t,c.value,v.value,f.value,h);const n=T(e,M(null==t?void 0:t.snapGrid));if(S.value=yl(s.value,n,u.value,_.value),y.value&&S.value){const[t,n]=bl({id:_.value,dragItems:S.value,getNode:u});y.value(e.sourceEvent,t,n)}})).on("drag",(e=>{const n=M(null==t?void 0:t.snapGrid),o=T(e,n);if((C.value.x!==o.x||C.value.y!==o.y)&&S.value&&(C.value=o,S.value=S.value.map((e=>wl(e,o,!!n,null!=n?n:r.value,e.parentNode?u.value(e.parentNode):void 0,l.value))),g.value(S.value,!0,!0),E.value=!0,b.value)){const[t,n]=bl({id:_.value,dragItems:S.value,getNode:u});b.value(e.sourceEvent,t,n)}e.on("end",(e=>{if(E.value=!1,w.value&&S.value){g.value(S.value,!1,!1);const[t,n]=bl({id:_.value,dragItems:S.value,getNode:u});w.value(e.sourceEvent,t,n)}}))})).filter((e=>{const n=e.target;return!e.button&&(!a.value||!ml(n,`.${a.value}`,x)&&(!(null==t?void 0:t.dragHandle)||ml(n,t.dragHandle,x)))})),e.call(N.value))}})),E}));return C((()=>t.stop())),n}const _l=()=>({doubleClick:S(),click:S(),mouseEnter:S(),mouseMove:S(),mouseLeave:S(),contextMenu:S(),dragStart:S(),drag:S(),dragStop:S()});function El(e,t){const n=_l();return n.doubleClick.on((n=>{var o,i;t.nodeDoubleClick(n),null==(i=null==(o=e.events)?void 0:o.doubleClick)||i.call(o,n)})),n.click.on((n=>{var o,i;t.nodeClick(n),null==(i=null==(o=e.events)?void 0:o.click)||i.call(o,n)})),n.mouseEnter.on((n=>{var o,i;t.nodeMouseEnter(n),null==(i=null==(o=e.events)?void 0:o.mouseEnter)||i.call(o,n)})),n.mouseMove.on((n=>{var o,i;t.nodeMouseMove(n),null==(i=null==(o=e.events)?void 0:o.mouseMove)||i.call(o,n)})),n.mouseLeave.on((n=>{var o,i;t.nodeMouseLeave(n),null==(i=null==(o=e.events)?void 0:o.mouseLeave)||i.call(o,n)})),n.contextMenu.on((n=>{var o,i;t.nodeContextMenu(n),null==(i=null==(o=e.events)?void 0:o.contextMenu)||i.call(o,n)})),n.dragStart.on((n=>{var o,i;t.nodeDragStart(n),null==(i=null==(o=e.events)?void 0:o.dragStart)||i.call(o,n)})),n.drag.on((n=>{var o,i;t.nodeDrag(n),null==(i=null==(o=e.events)?void 0:o.drag)||i.call(o,n)})),n.dragStop.on((n=>{var o,i;t.nodeDragStop(n),null==(i=null==(o=e.events)?void 0:o.dragStop)||i.call(o,n)})),Object.entries(n).reduce(((e,[t,n])=>(e.emit[t]=n.trigger,e.on[t]=n.on,e)),{emit:{},on:{}})}const Sl=()=>({doubleClick:S(),click:S(),mouseEnter:S(),mouseMove:S(),mouseLeave:S(),contextMenu:S(),updateStart:S(),update:S(),updateEnd:S()});function Cl(e,t){const n=Sl();return n.doubleClick.on((n=>{var o,i;t.edgeDoubleClick(n),null==(i=null==(o=e.events)?void 0:o.doubleClick)||i.call(o,n)})),n.click.on((n=>{var o,i;t.edgeClick(n),null==(i=null==(o=e.events)?void 0:o.click)||i.call(o,n)})),n.mouseEnter.on((n=>{var o,i;t.edgeMouseEnter(n),null==(i=null==(o=e.events)?void 0:o.mouseEnter)||i.call(o,n)})),n.mouseMove.on((n=>{var o,i;t.edgeMouseMove(n),null==(i=null==(o=e.events)?void 0:o.mouseMove)||i.call(o,n)})),n.mouseLeave.on((n=>{var o,i;t.edgeMouseLeave(n),null==(i=null==(o=e.events)?void 0:o.mouseLeave)||i.call(o,n)})),n.contextMenu.on((n=>{var o,i;t.edgeContextMenu(n),null==(i=null==(o=e.events)?void 0:o.contextMenu)||i.call(o,n)})),n.updateStart.on((n=>{var o,i;t.edgeUpdateStart(n),null==(i=null==(o=e.events)?void 0:o.updateStart)||i.call(o,n)})),n.update.on((n=>{var o,i;t.edgeUpdate(n),null==(i=null==(o=e.events)?void 0:o.update)||i.call(o,n)})),n.updateEnd.on((n=>{var o,i;t.edgeUpdateEnd(n),null==(i=null==(o=e.events)?void 0:o.updateEnd)||i.call(o,n)})),Object.entries(n).reduce(((e,[t,n])=>(e.emit[t]=n.trigger,e.on[t]=n.on,e)),{emit:{},on:{}})}function Nl(e){const t=null!=e?e:(0,o.WQ)(sa,""),n=(0,o.WQ)(la,null),{findNode:i,getEdges:r}=al(),a=i(t);if(!a)throw new Error(`[vue-flow]: useNode - Node with id ${t} not found!`);return{id:t,node:a,nodeEl:n,parentNode:a.parentNode?i(a.parentNode):void 0,connectedEdges:(0,o.EW)((()=>Wa([a],r.value)))}}const Ml={name:"SelectionPane",inheritAttrs:!1},Tl=(0,o.pM)({...Ml,setup(e){const{id:t,deleteKeyCode:n,selectionKeyCode:i,multiSelectionKeyCode:r,emits:a,nodesSelectionActive:s,userSelectionActive:l,multiSelectionActive:u,elementsSelectable:c,getNodes:h,getSelectedEdges:p,removeSelectedElements:f,removeNodes:v,removeEdges:g}=al(),m=e=>{a.paneClick(e),s.value=!1,f()},y=e=>a.paneContextMenu(e),b=e=>a.paneScroll(e),w=e=>a.paneMouseEnter(e),x=e=>a.paneMouseLeave(e),k=e=>a.paneMouseMove(e);hl(n,(e=>{if(!e)return;const t=h.value.reduce(((e,t)=>((!t.selected&&t.parentNode&&e.find((e=>e.id===t.parentNode))||t.selected)&&e.push(t),e)),[]);(t||p.value)&&(p.value.length>0&&g(p.value),t.length>0&&v(t),s.value=!1,f())})),hl(r,(e=>{u.value=e}));const _=hl(i,(e=>{l.value&&e||(l.value=e&&c.value)}));return(e,n)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,d.R1)(_)?((0,o.uX)(),(0,o.Wv)((0,d.R1)(Zs),{key:`user-selection-${(0,d.R1)(t)}`})):(0,o.Q3)("",!0),(0,d.R1)(s)?((0,o.uX)(),(0,o.Wv)((0,d.R1)(js),{key:`nodes-selection-${(0,d.R1)(t)}`})):(0,o.Q3)("",!0),((0,o.uX)(),(0,o.CE)("div",{key:`pane-${(0,d.R1)(t)}`,class:"vue-flow__pane vue-flow__container",onClick:m,onContextmenu:y,onWheel:b,onMouseenter:w,onMousemove:k,onMouseleave:x},null,32))],64))}}),Bl={class:"vue-flow__nodes vue-flow__container"},Pl={name:"Nodes"},Rl=(0,o.pM)({...Pl,setup(e){const t=(0,o.WQ)(da),n=al(),i=(0,d.lW)(n,"nodesDraggable"),r=(0,d.lW)(n,"elementsSelectable"),a=(0,d.lW)(n,"nodesConnectable");(0,d.lW)(n,"noPanClassName"),(0,d.lW)(n,"snapToGrid"),(0,d.lW)(n,"snapGrid"),(0,d.lW)(n,"getNode");const s=(0,d.lW)(n,"getNodes"),l=(0,d.lW)(n,"getNodeTypes"),u=(0,d.lW)(n,"updateNodeDimensions"),c=e=>"undefined"===typeof e?i.value:e,h=e=>"undefined"===typeof e?r.value:e,p=e=>"undefined"===typeof e?a.value:e,f=(0,d.KR)();(0,o.sV)((()=>{f.value=new ResizeObserver((e=>{const t=e.map((e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})));u.value(t)}))})),(0,o.xo)((()=>{var e;return null==(e=f.value)?void 0:e.disconnect()}));const v=(e,n)=>{const i=e||"default";let r=null!=n?n:l.value[i];const a=(0,o.nI)();if("string"===typeof r&&a){const e=Object.keys(a.appContext.components);e&&e.includes(i)&&(r=(0,o.g2)(i,!1))}if("string"!==typeof r)return r;const s=null==t?void 0:t[`node-${i}`];return(null==s?void 0:s({}))?s:(console.warn(`[vueflow]: Node type "${e}" not found and no node-slot detected. Using fallback type "default".`),!1)};return(e,t)=>((0,o.uX)(),(0,o.CE)("div",Bl,[f.value?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(s.value,(e=>((0,o.uX)(),(0,o.Wv)((0,d.R1)(us),{id:e.id,key:e.id,"resize-observer":f.value,type:v(e.type,e.template),name:e.type||"default",draggable:c(e.draggable),selectable:h(e.selectable),connectable:p(e.connectable),node:e},null,8,["id","resize-observer","type","name","draggable","selectable","connectable","node"])))),128)):(0,o.Q3)("",!0)]))}}),Wl=["id","markerWidth","markerHeight","markerUnits","orient"],Il=["stroke","stroke-width","fill"],Ol=["stroke","stroke-width"],$l={name:"MarkerType"},Xl=(0,o.pM)({...$l,props:{id:null,type:null,color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>((0,o.uX)(),(0,o.CE)("marker",{id:e.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${e.width}`,markerHeight:`${e.height}`,markerUnits:e.markerUnits,orient:e.orient},["arrowclosed"===e.type?((0,o.uX)(),(0,o.CE)("polyline",{key:0,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:e.color,points:"-5,-4 0,0 -5,4 -5,-4"},null,8,Il)):(0,o.Q3)("",!0),"arrow"===e.type?((0,o.uX)(),(0,o.CE)("polyline",{key:1,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:"none",points:"-5,-4 0,0 -5,4"},null,8,Ol)):(0,o.Q3)("",!0)],8,Wl))}}),zl={name:"MarkerDefinitions"},Al=(0,o.pM)({...zl,setup(e){const t=al(),n=(0,d.lW)(t,"edges"),i=(0,d.lW)(t,"connectionLineOptions"),r=(0,d.lW)(t,"defaultMarkerColor"),a=(0,o.EW)((()=>{const e=[],t=[],o=n=>{if(n){const o=Xa(n);e.includes(o)||("object"===typeof n?t.push({...n,id:o,color:n.color||r.value}):t.push({id:o,color:r.value,type:n}),e.push(o))}};return[i.value.markerEnd,i.value.markerStart].forEach(o),n.value.reduce(((e,t)=>([t.markerStart,t.markerEnd].forEach(o),e.sort(((e,t)=>e.id.localeCompare(t.id))))),t),t}));return(e,t)=>((0,o.uX)(),(0,o.CE)("defs",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,d.R1)(a),(e=>((0,o.uX)(),(0,o.Wv)(Xl,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,"stroke-width":e.strokeWidth,orient:e.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"])))),128))]))}}),Hl={key:0,class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Ll={name:"Edges"},Yl=(0,o.pM)({...Ll,setup(e){const t=(0,o.WQ)(da),n=al(),i=(0,d.lW)(n,"emits"),r=(0,d.lW)(n,"connectionMode"),a=(0,d.lW)(n,"edgeUpdaterRadius"),s=(0,d.lW)(n,"onPaneReady"),l=(0,d.lW)(n,"connectionStartHandle"),u=(0,d.lW)(n,"nodesConnectable"),c=(0,d.lW)(n,"edgesUpdatable"),p=(0,d.lW)(n,"elementsSelectable"),f=(0,d.lW)(n,"getSelectedNodes"),v=(0,d.lW)(n,"nodesSelectionActive"),g=(0,d.lW)(n,"getNode");(0,d.lW)(n,"getNodes");const m=(0,d.lW)(n,"getEdges"),y=(0,d.lW)(n,"getEdgeTypes"),b=(0,d.lW)(n,"addSelectedEdges"),w=(0,d.lW)(n,"noPanClassName"),x=(0,d.lW)(n,"elevateEdgesOnSelect"),k=e=>"undefined"===typeof e?p.value:e,_=e=>"undefined"===typeof e?c.value:e,S=(0,d.KR)(),C=E((()=>{var e;return null==(e=l.value)?void 0:e.nodeId}),(()=>{var e;return!!(null==(e=l.value)?void 0:e.nodeId)&&g.value(l.value.nodeId)})),N=E((()=>{var e;return null==(e=l.value)?void 0:e.nodeId}),(()=>{var e,t;return!!(C.value&&("undefined"===typeof C.value.connectable?u.value:C.value.connectable)&&(null==(e=l.value)?void 0:e.nodeId)&&(null==(t=l.value)?void 0:t.type))})),M=(0,d.KR)({});let T=(0,d.KR)([]),B=(0,d.uY)();s.value((()=>{B||(B=(0,d.uY)()),B.run((()=>{(0,o.wB)([f,m],(()=>{m.value.forEach((e=>{M.value[e.id]||(M.value[e.id]=Cl(e,i.value))})),x.value?(0,o.dY)((()=>T.value=Ya(m.value,g.value))):T.value=[{isMaxLevel:!0,edges:m.value,level:0}]}),{immediate:!0})}))})),(0,o.xo)((()=>{null==B||B.stop(),B=null}));const P=(e,n)=>{const i=e||"default";let r=null!=n?n:y.value[i];const a=(0,o.nI)();if("string"===typeof r&&a){const e=Object.keys(a.appContext.components);e&&e.includes(i)&&(r=(0,o.g2)(i,!1))}if(r&&"string"!==typeof r)return r;const s=null==t?void 0:t[`edge-${i}`];return(null==s?void 0:s({}))?s:(console.warn(`[vueflow]: Edge type "${e}" not found and no edge-slot detected. Using fallback type "default".`),!1)},R=(e,t)=>{const n={event:e,edge:t};k(t.selectable)&&(v.value=!1,b.value([t])),M.value[t.id].emit.click(n)},W=(e,t)=>M.value[t.id].emit.contextMenu({event:e,edge:t}),I=(e,t)=>M.value[t.id].emit.doubleClick({event:e,edge:t}),O=(e,t)=>M.value[t.id].emit.mouseEnter({event:e,edge:t}),$=(e,t)=>M.value[t.id].emit.mouseMove({event:e,edge:t}),X=(e,t)=>M.value[t.id].emit.mouseLeave({event:e,edge:t}),z=(e,t)=>{S.value=t.id,L(e,t,!0)},A=(e,t)=>{S.value=t.id,L(e,t,!1)},{onMouseDown:H}=ul(),L=(e,t,n)=>{var o;const i=n?t.target:t.source,r=null!=(o=n?t.targetHandle:t.sourceHandle)?o:"";M.value[t.id].emit.updateStart({event:e,edge:t}),H(e,r,i,n,void 0,n?"target":"source",(e=>{Sa(e,m.value)||M.value[t.id].emit.update({edge:t,connection:e})}),(()=>{M.value[t.id].emit.updateEnd({event:e,edge:t}),S.value=""}))},Y=e=>{const t=e.class instanceof Function?e.class(e):e.class;return[w.value,t]},D=e=>e.style instanceof Function?e.style(e):e.style;return(e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(T.value,(e=>((0,o.uX)(),(0,o.CE)("svg",{key:e.level,class:"vue-flow__edges vue-flow__container",style:(0,h.Tr)(`z-index: ${e.level}`)},[e.isMaxLevel?((0,o.uX)(),(0,o.Wv)(Al,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("g",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.edges,(e=>((0,o.uX)(),(0,o.Wv)((0,d.R1)(As),{id:e.id,key:e.id,type:P(e.type,e.template),name:e.type||"default",source:e.source,target:e.target,"target-handle-id":e.targetHandle,"source-handle-id":e.sourceHandle,"source-node":g.value(e.source),"target-node":g.value(e.target),label:e.label,data:e.data,events:{...e.events,...M.value[e.id].on},animated:e.animated,selectable:k(e.selectable),selected:e.selected,updatable:_(e.updatable),updating:e.id===S.value,"label-style":e.labelStyle,"label-show-bg":e.labelShowBg,"label-bg-style":e.labelBgStyle,"label-bg-padding":e.labelBgPadding,"label-bg-border-radius":e.labelBgBorderRadius,"connection-mode":r.value,"edge-updater-radius":a.value,"marker-end":e.markerEnd,"marker-start":e.markerStart,style:(0,h.Tr)(D(e)),class:(0,h.C4)(Y(e)),onClick:t=>R(t,e),onDblclick:t=>I(t,e),onContextmenu:t=>W(t,e),onMouseenter:t=>O(t,e),onMousemove:t=>$(t,e),onMouseleave:t=>X(t,e),onSourceMousedown:t=>z(t,e),onTargetMousedown:t=>A(t,e)},null,8,["id","type","name","source","target","target-handle-id","source-handle-id","source-node","target-node","label","data","events","animated","selectable","selected","updatable","updating","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","connection-mode","edge-updater-radius","marker-end","marker-start","style","class","onClick","onDblclick","onContextmenu","onMouseenter","onMousemove","onMouseleave","onSourceMousedown","onTargetMousedown"])))),128))])],4)))),128)),N.value&&C.value?((0,o.uX)(),(0,o.CE)("svg",Hl,[(0,o.bF)(Ds,{"source-node":C.value},null,8,["source-node"])])):(0,o.Q3)("",!0)],64))}}),Dl={name:"Transform"},Vl=(0,o.pM)({...Dl,setup(e){const{id:t,viewport:n,dimensions:i,fitViewOnInit:r,emits:a,fitView:s,...l}=al(),u=async e=>{const t=cl();return"screen"in t&&await T(e).toMatch((({height:e,width:t})=>!isNaN(t)&&t>0&&!isNaN(e)&&e>0)),!0};let c=(0,d.KR)(!1);return(0,o.sV)((async()=>{await u(i.value),c.value=!0,a.paneReady({id:t,viewport:n,dimensions:i,fitViewOnInit:r,fitView:s,emits:a,...l}),(null==r?void 0:r.value)&&s()})),(e,i)=>((0,o.uX)(),(0,o.CE)("div",{key:`transform-${(0,d.R1)(t)}`,class:"vue-flow__transformationpane vue-flow__container",style:(0,h.Tr)({transform:`translate(${(0,d.R1)(n).x}px,${(0,d.R1)(n).y}px) scale(${(0,d.R1)(n).zoom})`,opacity:c.value?void 0:0})},[(0,o.bF)(Yl),(0,o.bF)(Rl),(0,o.RG)(e.$slots,"default")],4))}}),jl={name:"Viewport"},Fl=(0,o.pM)({...jl,setup(e){const t=al(),n=(0,d.lW)(t,"id"),i=(0,d.lW)(t,"minZoom"),r=(0,d.lW)(t,"maxZoom"),a=(0,d.lW)(t,"defaultZoom"),s=(0,d.lW)(t,"defaultPosition"),l=(0,d.lW)(t,"translateExtent"),u=(0,d.lW)(t,"dimensions"),c=(0,d.lW)(t,"zoomActivationKeyCode"),h=(0,d.lW)(t,"selectionKeyCode"),p=(0,d.lW)(t,"panOnScroll"),f=(0,d.lW)(t,"panOnScrollMode"),v=(0,d.lW)(t,"panOnScrollSpeed"),g=(0,d.lW)(t,"panOnDrag"),m=(0,d.lW)(t,"zoomOnDoubleClick"),y=(0,d.lW)(t,"zoomOnPinch"),b=(0,d.lW)(t,"zoomOnScroll"),w=(0,d.lW)(t,"preventScrolling"),x=(0,d.lW)(t,"noWheelClassName"),k=(0,d.lW)(t,"noPanClassName"),_=(0,d.lW)(t,"setState"),E=(0,d.lW)(t,"emits"),S=Z("viewport",null);let C=(0,d.KR)(!1);const N=(e,t)=>e.x!==t.x&&!isNaN(t.x)||e.y!==t.y&&!isNaN(t.y)||e.zoom!==t.k&&!isNaN(t.k),M=e=>({x:e.x,y:e.y,zoom:e.k}),T=(e,t)=>e.target.closest(`.${t}`),B=va(a.value,i.value,r.value);let P=(0,d.KR)({...ga({x:s.value[0],y:s.value[1]},l.value),zoom:B});return(0,o.sV)((()=>{se(S,(()=>{if(!S.value)return;const{width:e,height:t}=fa(S.value);u.value.width=e,u.value.height=t}));const e=cl();K(e,"resize",(()=>{if(!S.value)return;const{width:e,height:t}=fa(S.value);u.value.width=e,u.value.height=t}))})),(0,o.sV)((()=>{const e=ea().scaleExtent([i.value,r.value]).translateExtent(l.value),t=kn(S.value).call(e),n=t.on("wheel.zoom"),a=jr.translate(P.value.x,P.value.y).scale(P.value.zoom);e.transform(t,a),_.value({d3Zoom:e,d3Selection:t,d3ZoomHandler:n,viewport:{x:a.x,y:a.y,zoom:a.k},viewportRef:S.value});const s=hl(h.value,(t=>{t&&!C.value?e.on("zoom",null):t||e.on("zoom",(e=>{_.value({viewport:{x:e.transform.x,y:e.transform.y,zoom:e.transform.k}});const t=M(e.transform);E.value.move({event:e,flowTransform:t})}))})),u=hl(c.value);e.on("start",(e=>{C.value=!0;const t=M(e.transform);P.value=t,E.value.moveStart({event:e,flowTransform:t})})),e.on("end",(e=>{if(C.value=!1,N(P.value,e.transform)){const t=M(e.transform);P.value=t,E.value.moveEnd({event:e,flowTransform:t})}})),(0,o.nT)((()=>{p.value&&!u.value?t.on("wheel",(n=>{var o;if(T(n,null==(o=x.value)?void 0:o.value))return!1;n.preventDefault(),n.stopImmediatePropagation();const i=t.property("__zoom").k||1;if(n.ctrlKey&&y.value){const o=En(n),r=-n.deltaY*(1===n.deltaMode?.05:n.deltaMode?1:.002)*10,a=i*2**r;return void e.scaleTo(t,a,o)}const r=1===n.deltaMode?20:1,a=f.value===ra.Vertical?0:n.deltaX*r,s=f.value===ra.Horizontal?0:n.deltaY*r;e.translateBy(t,-a/i*v.value,-s/i*v.value)})).on("wheel.zoom",null):"undefined"!==typeof n&&t.on("wheel",(e=>{var t;if(!w.value||T(e,null==(t=x.value)?void 0:t.value))return null;e.preventDefault()})).on("wheel.zoom",n)})),e.filter((e=>{const t=u.value||b.value,n=y.value&&e.ctrlKey;return!!(g.value||t||p.value||m.value||y.value)&&(!s.value&&(!(!m.value&&"dblclick"===e.type)&&((!T(e,x.value)||"wheel"!==e.type)&&((!T(e,k.value)||"wheel"===e.type)&&(!(!y.value&&e.ctrlKey&&"wheel"===e.type)&&(!!(t||p.value||n||"wheel"!==e.type)&&(!!(g.value||"mousedown"!==e.type&&"touchstart"!==e.type)&&((!e.ctrlKey||"wheel"===e.type)&&!e.button))))))))}))})),(e,t)=>((0,o.uX)(),(0,o.CE)("div",{ref:"viewport",key:`viewport-${n.value}`,class:"vue-flow__viewport vue-flow__container"},[(0,o.bF)(Vl,null,{default:(0,o.k6)((()=>[(0,o.RG)(e.$slots,"default")])),_:3}),(0,o.bF)(Tl)]))}}),ql=e=>"undefined"!==typeof(0,d.R1)(e);var Kl=(e,t,n)=>{const i=(0,d.uY)();return i.run((()=>{const r=()=>{i.run((()=>{let t,i;t=j([e.modelValue,()=>{var t,n;return null==(n=null==(t=e.modelValue)?void 0:t.value)?void 0:n.length}],(([r])=>{r&&Array.isArray(r)&&(i&&i.pause(),t&&t.pause(),n.setElements(r),i=j([n.edges,n.nodes,()=>n.edges.value.length,()=>n.nodes.value.length],(([n,i])=>{t&&t.pause();const r=[...i,...n];r.length&&(e.modelValue.value=r),(0,o.dY)((()=>{t&&t.resume()}))}),{immediate:!0}),(0,o.dY)((()=>{i&&i.resume(),t&&t.resume()})))}),{immediate:!(!e.modelValue||!e.modelValue.value)})}))},a=()=>{i.run((()=>{let t,i;t=j([e.nodes,()=>{var t,n;return null==(n=null==(t=e.nodes)?void 0:t.value)?void 0:n.length}],(async([r])=>{r&&Array.isArray(r)&&(i&&i.pause(),t&&t.pause(),n.setNodes(r),i=j((()=>n.nodes.value.length),(()=>{n.nodes.value.length&&(e.nodes.value=[...n.nodes.value])}),{immediate:!0}),(0,o.dY)((()=>{i&&i.resume(),t&&t.resume()})))}),{immediate:!(!e.nodes||!e.nodes.value)})}))},s=()=>{i.run((()=>{let t,i;t=j([e.edges,()=>{var t,n;return null==(n=null==(t=e.edges)?void 0:t.value)?void 0:n.length}],(async([r])=>{r&&Array.isArray(r)&&(i&&i.pause(),t&&t.pause(),n.setEdges(r),i=j((()=>n.edges.value.length),(()=>{n.edges.value.length&&(e.edges.value=[...n.edges.value])}),{immediate:!0}),(0,o.dY)((()=>{i&&i.resume(),t&&t.resume()})))}),{immediate:!(!e.edges||!e.edges.value)})}))},l=()=>{i.run((()=>{(0,o.wB)((()=>t.maxZoom),(()=>{t.maxZoom&&ql(t.maxZoom)&&n.setMaxZoom(t.maxZoom)}),{immediate:ql(t.maxZoom)})}))},u=()=>{i.run((()=>{(0,o.wB)((()=>t.minZoom),(()=>{t.minZoom&&ql(t.minZoom)&&n.setMinZoom(t.minZoom)}),{immediate:ql(t.minZoom)})}))},c=()=>{i.run((()=>{(0,o.wB)((()=>t.translateExtent),(()=>{t.translateExtent&&ql(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)}),{immediate:ql(t.translateExtent)})}))},h=()=>{i.run((()=>{(0,o.wB)((()=>t.nodeExtent),(()=>{t.nodeExtent&&ql(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)}),{immediate:ql(t.nodeExtent)})}))},p=()=>{i.run((()=>{(0,o.wB)((()=>t.applyDefault),(()=>{ql(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)}),{immediate:ql(t.applyDefault)}),(0,o.wB)(n.applyDefault,((e,t,o)=>{n.applyDefault.value?(n.onNodesChange(n.applyNodeChanges),n.onEdgesChange(n.applyEdgeChanges)):(n.hooks.value.nodesChange.off(n.applyNodeChanges),n.hooks.value.edgesChange.off(n.applyEdgeChanges)),o((()=>{n.hooks.value.nodesChange.off(n.applyNodeChanges),n.hooks.value.edgesChange.off(n.applyEdgeChanges)}))}),{immediate:!0})}))},f=()=>{i.run((()=>{const e=async e=>{let o=e;v(t.autoConnect)&&(o=await t.autoConnect(e)),!1!==o&&n.addEdges([o])};(0,o.wB)((()=>t.autoConnect),(()=>{ql(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)}),{immediate:ql(t.autoConnect)}),(0,o.wB)(n.autoConnect,((t,o,i)=>{t?n.onConnect(e):n.hooks.value.connect.off(e),i((()=>{n.hooks.value.connect.off(e)}))}),{immediate:!0})}))},g=()=>{const e=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];Object.keys(t).forEach((r=>{if(!e.includes(r)){const e=(0,d.lW)(t,r),a=n[r];i.run((()=>{(0,o.wB)(e,(()=>{ql(e)&&(a.value=e.value)}),{immediate:ql(e)})}))}}))};[r,a,s,u,l,c,h,p,f,g].forEach((e=>e()))})),()=>i.stop()};const Ul={name:"VueFlow"},Gl=(0,o.pM)({...Ul,props:{id:null,modelValue:null,nodes:null,edges:null,edgeTypes:null,nodeTypes:null,connectionMode:null,connectionLineType:null,connectionLineStyle:{default:void 0},connectionLineOptions:null,deleteKeyCode:null,selectionKeyCode:null,multiSelectionKeyCode:null,zoomActivationKeyCode:null,snapToGrid:{type:Boolean,default:void 0},snapGrid:null,onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:Boolean,default:void 0},minZoom:null,maxZoom:null,defaultZoom:null,defaultPosition:null,translateExtent:null,nodeExtent:null,defaultMarkerColor:null,zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:null,panOnScrollMode:null,zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},edgeUpdaterRadius:null,fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:null,noWheelClassName:null,noPanClassName:null,defaultEdgeOptions:null,elevateEdgesOnSelect:{type:Boolean,default:void 0}},emits:["nodesChange","edgesChange","nodeDoubleClick","nodeClick","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeContextMenu","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","connect","connectStart","connectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","paneReady","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdate","edgeUpdateEnd","updateNodeInternals","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const i=e,r=ve(i,"modelValue",n),a=ve(i,"nodes",n),s=ve(i,"edges",n),{vueFlowRef:l,id:u,hooks:c,getNodeTypes:h,getEdgeTypes:p,$reset:f,...v}=al({id:i.id}),g=Kl({modelValue:r,nodes:a,edges:s},i,{vueFlowRef:l,id:u,hooks:c,getNodeTypes:h,getEdgeTypes:p,$reset:f,...v}),m=(0,d.KR)();return(0,o.hi)((()=>{g()})),(0,o.sV)((()=>{l.value=m.value})),pa(n,c),(0,o.Gt)(da,(0,o.Ht)()),t({vueFlowRef:l,id:u,hooks:c,getNodeTypes:h,getEdgeTypes:p,$reset:f,...v}),(e,t)=>((0,o.uX)(),(0,o.CE)("div",{ref_key:"el",ref:m,class:"vue-flow"},[(0,o.bF)(Fl,null,{nodes:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Object.keys((0,d.R1)(h)),(t=>(0,o.RG)(e.$slots,`node-${t}`))),256))])),edges:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Object.keys((0,d.R1)(p)),(t=>(0,o.RG)(e.$slots,`edge-${t}`))),256))])),"connection-name":(0,o.k6)((()=>[(0,o.RG)(e.$slots,"connection-line")])),default:(0,o.k6)((()=>[(0,o.RG)(e.$slots,"zoom-pane")])),_:3}),(0,o.RG)(e.$slots,"default")],512))}}),Zl=function({position:{x:e,y:t},dimensions:{height:n,width:i},strokeWidth:r,strokeColor:a,borderRadius:s,color:l,shapeRendering:u="geometricPrecision"},{attrs:c,emit:d,slots:h}){var p,f;const v=null!=(p=c.style)?p:{};return[(0,o.h)("rect",{class:["vue-flow__minimap-node",c.class].join(" "),style:v,x:e,y:t,rx:s,ry:s,width:i,height:n,fill:l||v.background||v.backgroundColor,stroke:a,strokeWidth:r,shapeRendering:u,onClick:e=>d("click",e),onDblClick:e=>d("dblclick",e),onMouseenter:e=>d("mouseenter",e),onMousemove:e=>d("mousemove",e),onMouseleave:e=>d("mouseleave",e)}),null==(f=null==h?void 0:h.default)?void 0:f.call(h)]};Zl.props=["position","dimensions","strokeWidth","strokeColor","borderRadius","color","shapeRendering"],Zl.emits=["click","dblclick","mouseenter","mousemove","mouseleave"];const Ql=["width","height","viewBox"],Jl=["d","fill"],eu={name:"MiniMap"};var tu=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n};const nu={name:"ControlButton"},ou={class:"vue-flow__controls-button"};function iu(e,t,n,i,r,a){return(0,o.uX)(),(0,o.CE)("button",ou,[(0,o.RG)(e.$slots,"default")])}var ru=tu(nu,[["render",iu]]);const au={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},su=(0,o.Lk)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),lu=[su];function uu(e,t){return(0,o.uX)(),(0,o.CE)("svg",au,lu)}var cu={render:uu};const du={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},hu=(0,o.Lk)("path",{d:"M0 0h32v4.2H0z"},null,-1),pu=[hu];function fu(e,t){return(0,o.uX)(),(0,o.CE)("svg",du,pu)}var vu={render:fu};const gu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},mu=(0,o.Lk)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),yu=[mu];function bu(e,t){return(0,o.uX)(),(0,o.CE)("svg",gu,yu)}var wu={render:bu};const xu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ku=(0,o.Lk)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),_u=[ku];function Eu(e,t){return(0,o.uX)(),(0,o.CE)("svg",xu,_u)}var Su={render:Eu};const Cu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Nu=(0,o.Lk)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),Mu=[Nu];function Tu(e,t){return(0,o.uX)(),(0,o.CE)("svg",Cu,Mu)}var Bu={render:Tu};const Pu={class:"vue-flow__controls"},Ru={name:"Controls"},Wu=(Boolean,Boolean,Boolean,["x","y","width","height"]),Iu=["stroke","stroke-width","d"],Ou=["cx","cy","r","fill"],$u={key:2,height:"100",width:"100"},Xu=["fill"],zu=["x","y","fill"],Au={name:"Background"};const Hu=["d"],Lu=["cx","cy"];function Yu(e,t,n,i,r,a){return(0,o.uX)(),(0,o.CE)("g",null,[(0,o.Lk)("path",{class:"animated",fill:"none",stroke:"#bbbbbb","stroke-width":2.5,d:`M${n.sourceX},${n.sourceY} C ${a.midX1} ${a.midY1} ${a.midX2} ${a.midY2} ${n.targetX},${n.targetY}`,"marker-end":"url(#arrowclosed)"},null,8,Hu),(0,o.Lk)("circle",{cx:n.targetX,cy:n.targetY,fill:"#bbbbbb",r:1,stroke:"#bbbbbb","stroke-width":1.5},null,8,Lu)])}var Du={name:"CustomEdge",props:{sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0}},computed:{midX1(){return 6*(this.sourceX+this.targetX)/10},midY1(){return 6*(this.sourceY+this.targetY)/10},midX2(){return 4*(this.sourceX+this.targetX)/10},midY2(){return 4*(this.sourceY+this.targetY)/10}}},Vu=n(1241);const ju=(0,Vu.A)(Du,[["render",Yu]]);var Fu=ju;const qu={class:"centered"},Ku=["src"];function Uu(e,t,n,i,r,a){const s=(0,o.g2)("Handle");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("button",{class:(0,h.C4)(["customNode",a.core?"core":"",a.influence,a.separate?"separate":"","shrink-hover"]),onInput:t[0]||(t[0]=t=>e.click(n.data.content))},[(0,o.Lk)("div",qu,[a.core?((0,o.uX)(),(0,o.CE)("img",{key:0,class:"circle",src:a.icon},null,8,Ku)):(0,o.Q3)("",!0),(0,o.Lk)("label",{class:(0,h.C4)([a.influence,a.separate?"separate":""])},(0,h.v_)(a.label),3)])],34),n.data.topThirds?((0,o.uX)(),(0,o.Wv)(s,{key:0,id:"topLeft",type:"target",position:r.top,style:(0,h.Tr)({left:r.topLeftOffset+"px"})},null,8,["position","style"])):(0,o.Q3)("",!0),(0,o.bF)(s,{id:"topCenter",type:"target",position:r.top},null,8,["position"]),n.data.topThirds?((0,o.uX)(),(0,o.Wv)(s,{key:1,id:"topRight",type:"target",position:r.top,style:(0,h.Tr)({left:"auto",right:r.topRightOffset+"px"})},null,8,["position","style"])):(0,o.Q3)("",!0),n.data.bottomThirds?((0,o.uX)(),(0,o.Wv)(s,{key:2,id:"bottomLeft",type:"source",position:r.bottom,style:(0,h.Tr)({left:r.bottomLeftOffset+"px"})},null,8,["position","style"])):(0,o.Q3)("",!0),(0,o.bF)(s,{id:"bottomCenter",type:"source",position:r.bottom},null,8,["position"]),(0,o.bF)(s,{id:"bottomCenter",type:"target",position:r.bottom},null,8,["position"]),n.data.bottomThirds?((0,o.uX)(),(0,o.Wv)(s,{key:3,id:"bottomRight",type:"source",position:r.bottom,style:(0,h.Tr)({left:"auto",right:r.bottomRightOffset+"px"})},null,8,["position","style"])):(0,o.Q3)("",!0),n.data.leftThirds?((0,o.uX)(),(0,o.Wv)(s,{key:4,id:"leftTop",type:"source",position:r.left,style:(0,h.Tr)({top:r.leftTopOffset+"px"})},null,8,["position","style"])):(0,o.Q3)("",!0),(0,o.bF)(s,{id:"leftCenter",type:"source",position:r.left},null,8,["position"]),n.data.leftThirds?((0,o.uX)(),(0,o.Wv)(s,{key:5,id:"leftBottom",type:"source",position:r.left,style:(0,h.Tr)({top:"auto",bottom:r.leftBottomOffset+"px"})},null,8,["position","style"])):(0,o.Q3)("",!0),n.data.rightThirds?((0,o.uX)(),(0,o.Wv)(s,{key:6,id:"rightTop",type:"target",position:r.right,style:(0,h.Tr)({top:r.rightTopOffset+"px"})},null,8,["position","style"])):(0,o.Q3)("",!0),(0,o.bF)(s,{id:"rightCenter",type:"target",position:r.right},null,8,["position"]),n.data.rightThirds?((0,o.uX)(),(0,o.Wv)(s,{key:7,id:"rightBottom",type:"target",position:r.right,style:(0,h.Tr)({top:"auto",bottom:r.rightBottomOffset+"px"})},null,8,["position","style"])):(0,o.Q3)("",!0)],64)}var Gu=n(5320),Zu=n(6305),Qu=n(782),Ju={name:"CustomNode",components:{Handle:os},props:{data:{type:Object,default:{topThirds:!1,bottomThirds:!1,leftThirds:!1,rightThirds:!1,draggable:!1,content:Object,txtId:""}}},data(){return{topLeftOffset:20,topRightOffset:15,bottomLeftOffset:20,bottomRightOffset:15,leftTopOffset:5,leftBottomOffset:10,rightTopOffset:5,rightBottomOffset:10,top:ta.Top,bottom:ta.Bottom,right:ta.Right,left:ta.Left}},computed:{...(0,Qu.L8)({langId:"text/langId"}),label(){return this.getText(this.data.content.label,this.langId)},core(){return this.data.content.core},influence(){return this.data.content.influence},separate(){return this.data.content.separate},icon(){return this.data.content.icon?Gu.A.load("icons/"+this.data.content.icon):""}},methods:{getText(e){return Zu.A.get(e,this.langId)}}};const ec=(0,Vu.A)(Ju,[["render",Uu]]);var tc=ec;const nc=e=>((0,o.Qi)("data-v-8640d8c2"),e=e(),(0,o.jt)(),e),oc={class:"nodeTakeover"},ic={class:"main"},rc=["src"],ac={class:"text"},sc=["innerHTML"],lc=nc((()=>(0,o.Lk)("br",null,null,-1))),uc={class:"side"},cc={key:0},dc={class:"link shrink-hover"},hc=["src"];function pc(e,t,n,i,r,a){return(0,o.uX)(),(0,o.CE)("div",oc,[(0,o.Lk)("section",ic,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,o.Lk)("img",{src:a.closeIcon},null,8,rc)]),(0,o.Lk)("div",ac,[(0,o.Lk)("h2",null,(0,h.v_)(a.getText(n.model.label)),1),(0,o.Lk)("h4",null,(0,h.v_)(a.getText(n.model.subheader)),1),(0,o.Lk)("p",{class:"lightLink",innerHTML:a.getDescription(n.model.description)},null,8,sc),lc]),(0,o.Lk)("div",uc,[n.model.links.length>0?((0,o.uX)(),(0,o.CE)("h4",cc,"Explore data at this step. ")):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.model.links,(e=>((0,o.uX)(),(0,o.CE)("section",dc,[(0,o.Lk)("img",{src:a.chartIcon},null,8,hc),(0,o.Lk)("p",null,(0,h.v_)(a.getText(e)),1)])))),256))])])])}var fc={name:"NodeTakeover",props:{model:Object},computed:{...(0,Qu.L8)({langId:"text/langId",glossaryModel:"text/glossaryModel"}),chartIcon(){return Gu.A.load("icons/line-chart.svg")},closeIcon(){return Gu.A.load("icons/x.svg")}},methods:{getText(e){return Zu.A.get(e,this.langId)},getDescription(e){var t=Zu.A.get(e,this.langId);return Zu.A.checkGlossary(t,this.glossaryModel,this.langId)}}};const vc=(0,Vu.A)(fc,[["render",pc],["__scopeId","data-v-8640d8c2"]]);var gc=vc,mc=JSON.parse('{"social":{"label":{"en":"Social Determinants","es":""},"core":true,"influence":"independent","separate":true,"icon":"people.svg","iconDesc":{"en":"","es":""},"subheader":{"en":"What are the root causes of crime?","es":""},"description":{"en":"Research shows that underlying circumstances, including a lack of access to economic opportunity, a lack of individual support networks, and unaddressed trauma and a lack of access to mental health resources, to name a few factors, significantly impact the likelihood of someone\'s criminal involvement. Unfortunately the criminal justice system is not equipped to treat these underlying needs, and can in fact exascerbate them, leading to escalating cycles of recidivism and poverty.","es":""},"links":[{"en":"Sentencing Length vs Time","es":""},{"en":"Arrest Type vs Sentencing Type","es":""},{"en":"Arrest Type vs Time","es":""}]},"initial-arrest":{"label":{"en":"Initial Arrest","es":""},"icon":"","influence":"independent","separate":true,"iconDesc":{"en":"","es":""},"subheader":{"en":"What happens when someone is arrested without a warrant? ","es":""},"description":{"en":"When an officer has \\"probable cause\\" to believe a person has committed a crime, or that a person has witnessed a crime, then the officer can arrest that person without a warrant. That arrest triggers certain constitutional protections, including that the person arrested can only be held for 48 hours before appearing in court and either being released on bond, or held in jail until the next court date. For low level misdemeanor offenses or violations, the arresting officer can instead issue a ticket requiring the person arrested to appear on the arraignment date on their own recognizance, allowing their release in the meantime (instead of being held and transported to court by the police). Upon arrest, the officer files an incident report which includes: identifying information of the arrestee, the type of crime(s) allegedly committed, the date, time, and location of the arrest, and what happened during the incident. In Washtenaw County, the officer must also submit body camera footage of the arrest. If a victim is involved, the victim may submit their own statement in the report as well. The prosecutor is not involved in the arrest stage, but prosecutor\'s policy may influence officers in their decision whether to make an arrest. For example, if a prosecutor has made it known they will not prosecute certain charges, an officer may not make an arrest for those charges. Or if a prosecutor has rigorous probable cause standards, an officer may be less likely to make an arrest with weak probable cause. In Washtenaw County, the prosecutor has stopped pursuing charges from pretext stops, with a few exceptions, due to the lack of probable cause involved in these arrests. As a result, an officer may be less likely to make a pretext stop in the first place. ","es":""},"links":[{"en":"Habitual Offender Labeling vs Race","es":""},{"en":"Sentencing Length vs Time","es":""}]},"warrent-request":{"label":{"en":"Warrant Request","es":""},"influence":"independent","separate":true,"icon":"","iconDesc":{"en":"","es":""},"subheader":{"en":"","es":""},"description":{"en":"Most cases begin with a warrant request, where the police request permission from the Prosecutor to take a person into custody. Police can make arrests without warrants for crimes they witness. Prosectors can approve the warrant if they “reasonably believe that probable cause exists that the suspect committed the offense.” Usually prosecutors will want to approve warrants in situations where they believe they can prove the suspect to be guilty beyond a reasonable doubt.","es":""},"links":[{"en":"Race vs Sentencing Type","es":""},{"en":"Time vs Charge Type","es":""}]},"referral":{"label":{"en":"Referral","es":""},"core":true,"influence":"sole","separate":false,"icon":"multi-arrow.svg","iconDesc":{"en":"","es":""},"subheader":{"en":"The Prosecutor decides whether to pursue charges","es":""},"description":{"en":"The arresting officer refers the case (or warrant request), along with the incident report, body camera footage, and other relevant evidence, to the prosecutor\'s office. The officer also reccomends specific criminal charges for the suspect. However, it is the prosecutor who decides what charges to bring, or, indeed, whether to bring charges at all. This is the stage where the prosecutor decides whether to dismiss, divert, or prosecute the charges. If they decide to prosecute the charges, then the case is arraigned. If it is a misdemeanor, the person charged enters a plea (not guilty, guilty, or no contest (treated the same as guilty) at the arraignment date. If the charge is a felony charge, the person facing charges does not enter a plea at the arraignment date. ","es":""},"links":[{"en":"Race vs Sentencing Type","es":""},{"en":"Sentencing Length vs Time","es":""}]},"assignment":{"label":{"en":"Attorney and Court Assignment","es":""},"core":true,"influence":"independent","separate":false,"icon":"analyze.svg","iconDesc":{"en":"","es":""},"subheader":{"en":"Beginning the court process","es":""},"description":{"en":"If the prosecutor decides to pursue the case, the defendant is assigned to a court and judge. Most criminal cases either go to district court or circuit court. Judges in each court are elected to six year terms. The Sixth Amendment guarantees all defendants the right to a lawyer. Many defendants choose to hire their own lawyer, who might specialize in the defendants particular type of case. If the defendant cannot afford to hire their own lawyer, a public defender will represent them. ","es":""},"links":[{"en":"Sentencing Length vs Time","es":""},{"en":"Time vs Charge Type","es":""}]},"rejection":{"label":{"en":"Rejection","es":""},"influence":"sole","separate":false,"icon":"","iconDesc":{"en":"","es":""},"subheader":{"en":"Not enough evidence","es":""},"description":{"en":"The prosecutor may choose to reject the case if there is insufficient evidence to support charges. The charges are dismissed and the arrestee goes free without a criminal record. Standards of evidence vary depending on the incident and the crime. As of 2021, the Washtenaw County Prosecutor recquires all referred cases to include body camera footage of the arrest. Lack of footage will result in an automatic rejection. Although a dismissal means no criminal charges will be brought for the case, an arrest record can still have collateral consequences. Although in Michigan, 60 days after the rejection of a case, the arrest record is expunged, background checks may pick up the arrest in the interim, with consequences for immigration, employment, and housing.","es":""},"links":[]},"warrent-arrest":{"label":{"en":"Warrant Arrest","es":""},"influence":"mixed","separate":false,"icon":"","iconDesc":{"en":"","es":""},"subheader":{"en":"Conducting a warrant arrest","es":""},"description":{"en":"If prosecutor decides to approve a warrant request and judge signs it, the requesting officer now has authority to arrest the identified suspect or search their homes for evidence of illegal activity. They are able to confiscate any incriminating evidence they find. However, the fourth amendment protects people from \\"unreasonable searches and seizures\\" and sets standards for police conduct during and arrest. For example, officers often must follow a \\"knock and announce\\" rule to make their presence known and give the suspect reasonable time to answer the door. If the court deems the officer\'s conduct \\"unreasonable\\", it may choose to exclude evidence collected during the arrest. However, these rules become waived if there is a threat of bodily harm or escape, giving officers broad latitude. ","es":""},"links":[{"en":"Race vs Sentencing Type","es":""},{"en":"Habitual Offender Labeling vs Race","es":""},{"en":"Time vs Charge Type","es":""}]},"diversion":{"label":{"en":"Diversion","es":""},"influence":"sole","separate":false,"icon":"","iconDesc":{"en":"","es":""},"subheader":{"en":"An alternative to the traditional process","es":""},"description":{"en":"Diversion is an alternative to the traditional justice process, designed to remedy criminal behavior while keeping the offender out of the formal criminal justice system. They are most often pursued for offenders who are first-time, non-violent, or otherwise considered at low risk to reoffend. Diversion tactics vary based on the specifics of each case, but can involve community service, group and individual counseling sessions, restorative justice, and specialized rehabilitative courts like youth or drug court. If a victim is involved, the offender may also be required to make direct restitutions for damages. The particular requirements for referral to diversion programs, including where they occur in the process (pre-arraignment, pre-plea, or post-plea), varies by jurisdiction and case type. ","es":""},"links":[{"en":"Sentencing Length vs Time","es":""}]},"arraignment":{"label":{"en":"Arraignment","es":""},"core":true,"influence":"mixed","separate":false,"icon":"law-book.svg","iconDesc":{"en":"","es":""},"subheader":{"en":"The first court appearance","es":""},"description":{"en":"In the arraignment stage, the arrestee, now known as the \\"defendant\\", makes their initial court appearance before the judge and prosecutor. The judge informs the defendant of the criminal charges filed against him or her, and the defendant must enter a plea of \\"guilty\\" or \\"not guilty\\". If the defendant pleads \\"guilty\\", sentencing begins immediately. If the defendant pleads \\"not guilty\\", the case will move into the trial stage, where they have an opportunity to defend their innocence. Criminal cases differ from civil cases-- civil cases are typically disputes between two private parties, as in a lawsuit. Criminal cases are led by the government (known as \\"the people\\"). The prosecutor is only involved with criminal cases. At this stage, the prosecutor may offer the defendant a \\"plea bargain\\", in which the defendant pleads \\"guilty\\" in exchange for a lighter sentence. The judge may also choose to move the case into a \\"problem-solving\\" court designed to remedy the case outside the traditional criminal justice system. ","es":""},"links":[{"en":"Race vs Sentencing Type","es":""},{"en":"Time vs Charge Type","es":""}]},"speciality":{"label":{"en":"Specialty Courts","es":""},"influence":"mixed","separate":false,"icon":"","iconDesc":{"en":"","es":""},"subheader":{"en":"Problem-solving Courts","es":""},"description":{"en":"Specialty courts, also known as \\"problem-solving\\" courts, are a form of diversion in which the judge and prosecutor refer the case to a non-adversarial system where all parties work together to solve the problem at hand. If the offender violates the conditions imposed by the court, the case may return to the criminal court track. The specific nature of specialty courts vary between counties. Washtenaw County offers three types of specialty court: veteran treatment court: for veterans with mental health or substance abuse issues. Clients move through an 18-24 month program in which they are closely monitored. The court gives them a treatment plan, along with access to resources and a supportive community. Mental health court: for offenders whose crimes are the result of a mental illness. A social work team provides the client therapeutic treatment while connecting them with education, housing, and employment resources. Sobriety court: for repeat offender DUIs and other crimes stemming from drug or alcohol addiction. The client is enrolled in a treatment program and closely monitored for sobriety. ","es":""},"links":[{"en":"Arrest Type vs Sentencing Type","es":""},{"en":"Race vs Sentencing Type","es":""},{"en":"Habitual Offender Labeling vs Race","es":""}]},"plea":{"label":{"en":"Plea Offer","es":""},"influence":"sole","separate":false,"icon":"","iconDesc":{"en":"","es":""},"subheader":{"en":"How the vast majority of cases end","es":""},"description":{"en":"In a plea bargain, the Prosecutor offers to reduce the defendant\'s criminal charges and seek a lesser sentence in exchange for a guilty plea before the trial. A plea bargain can help a defendant avoid severe sentencing, high court costs, and a lengthy trial. However plea bargaining also carries serious consequences. Because it requires an admission of guilt, it precludes a defendant from maintaining their innocence. Plea bargaining still results in a criminal record and sentence, and the corresponding loss of rights and priviledges. Many low-income people without adequate legal representation accept plea offers even when they are innocent or there is insufficient evidence because they fear they would be found guilty on the more severe set of charges in an unpredictable trial setting, or because they cannot afford to spend time in a lengthy trial. Some prosecutors may exploit this fear by deliberately over-charging a defendant and offering a plea bargain, thereby increasing their conviction rate. ","es":""},"links":[]},"trial":{"label":{"en":"Trial","es":""},"core":true,"influence":"mixed","separate":false,"icon":"gavel.svg","iconDesc":{"en":"","es":""},"subheader":{"en":"Only 5% of all cases go to trial ","es":""},"description":{"en":"The American court system is predicated on the notion that the accused is innocent until proven guilty. Here, the defendant has an opportunity to show their innocence through a formal examination of evidence and witnesses. The Prosecutor is tasked with proving the defendant\'s guilt beyond a reasonable doubt. Not all trials have juries -- only cases with \\"serious\\" offenses carrying more than six month\'s prison time typically feature a jury. In lower-level cases, the judge makes the final determination of guilt. The length of the trial depends on the severity and complexity of the case. A low level misdemeanor trial typically lasts between one day and two weeks, while a felony trial with a jury could last up to a year. ","es":""},"links":[{"en":"Race vs Sentencing Type","es":""},{"en":"Time vs Charge Type","es":""}]},"aquittal-dismissal":{"label":{"en":"Aquittal or Dismissal","es":""},"influence":"mixed","separate":false,"icon":"agreement.svg","iconDesc":{"en":"","es":""},"subheader":{"en":"","es":""},"description":{"en":"If the judge or jury still have reasonable doubt at the end of the trial, the defendant is acquitted and cleared of criminal charges, although they may still be held liable in civil disputes with the victim or other aggrieved parties. The court may also dismiss the case, which terminates the trial wwithout any determination of guilt or conviction. Cases may also dismiss the case, which terminates the trial without any determination of guilt or conviction. Cases may be dismissed for a number of reasons, including if the Prosecutor fails to move the case forward, due process is violated, or lack of jurisdiction. Dismissal is not the same as a \\"not guilty\\" verdict, and the case may still remain on the defendant\'s criminal record. ","es":""},"links":[{"en":"Habitual Offender Labeling vs Race","es":""},{"en":"Time vs Charge Type","es":""}]},"conviction":{"label":{"en":"Conviction","es":""},"core":true,"influence":"mixed","separate":false,"icon":"gavel.svg","iconDesc":{"en":"","es":""},"subheader":{"en":"A Guilty Verdict","es":""},"description":{"en":"If the Prosecutor is able to eliminate all reasonable doubt over the defendant\'s guilt, the defendant is convicted and the judge sentences them to punishment. The sentence can carry multiple elements, such as the payment of fines and community service. The judge follows a set of federal guidelines determining the maximum and minimum sentencing requirements for each crime. However, there have been recent efforts to eliminate \\"mandatory minimum\\" sentencing requirements, which prevent the judge from exercising discretion to give out lenient sentences. While the ultimate decision to convict falls to the judge or jury, Prosecutors are often judged by their conviction rate-- many have a political incentive to convict as many defendants as possible, especially in cases of violent crime. ","es":""},"links":[{"en":"Race vs Sentencing Type","es":""},{"en":"Habitual Offender Labeling vs Race","es":""}]},"fines":{"label":{"en":"Fines","es":""},"influence":"limited","separate":false,"icon":"","iconDesc":{"en":"","es":""},"subheader":{"en":"Paying for Crime","es":""},"description":{"en":"If the Court decides the defendant has adequate finances, a court may order a convicted defendant to pay a fine. Dollar amounts are set by statute and generally increase for more severe crimes. Fines may be combined with community service, incarceration, probation, or other forms of sentencing. They are most common in traffic violations and low level misdemeanors. If the defendant fails to pay the fine within a certain time period, they may incur more serious consequences. Courts usually seek alternatives to fines for indigent defendants who are unable to pay. The defendant may also be liable for other court costs, such as those for victim assessments, DNA testing, and probation fees. ","es":""},"links":[{"en":"Arrest Type vs Sentencing Type","es":""},{"en":"Time vs Charge Type","es":""}]},"community-service":{"label":{"en":"Community Service","es":""},"influence":"limited","separate":false,"icon":"","iconDesc":{"en":"","es":""},"subheader":{"en":"Repaying the Community","es":""},"description":{"en":"Many misdemeanor sentences involve some form of community service, in which the court orders the dependant to volunteer with a local oganization for a specified number of hours. Community service might be combined with other sentencing options, such as fines, incarceration, or probation. If the defendant fails to adequately complete the community service, they may incure more severe consequences. Common court order destinations in Washtenaw County include non-profits like the United Way, Salvation Army, and Meals on Wheels. ","es":""},"links":[{"en":"Race vs Sentencing Type","es":""},{"en":"Arrest Type vs Time","es":""}]},"probation":{"label":{"en":"Probation or Suspended Sentence","es":""},"influence":"limited","separate":false,"icon":"","iconDesc":{"en":"","es":""},"subheader":{"en":"Conditional Release","es":""},"description":{"en":"Like parole, probation is a form of conditional release. However, it is typically offered earlier in the sentence as a response to good behavior. The inmate is subject to strict monitoring throughout the probationary period, and may be re-incarcerated if they violate the terms of probation. In Washtenaw County, those on probation may be required to pay supervision fees on top of other legal costs.  A suspended sentence allows for a probationary period before the defendant ever goes to jail. If the terms of the probation are violated, the sentence takes effect and the individual is incarcerated. ","es":""},"links":[{"en":"Race vs Sentencing Type","es":""},{"en":"Time vs Charge Type","es":""}]},"incarceration":{"label":{"en":"Incarceration","es":""},"core":true,"influence":"limited","separate":true,"icon":"law-book.svg","iconDesc":{"en":"","es":""},"subheader":{"en":"The Prison System ","es":""},"description":{"en":"Many convictions carry prison sentences, which can range from a few days for a small misdemeanor to a lifetime for a serious felony. America\'s incarceration system is fragmented. Jails are operated on the county level and are reserved for pretrial detainees and minor offenders, while those convicted of more serious charges tend to go to state or federal prison. Although exact measures vary, most experts agree that the United States has the world\'s highest incarceration rate, especially for Black men. The Sherriff\'s Community Correction\'s office manages the Washtenaw County Jail. There are 30 active state prisons currently located throughout Michigan. The state has closed or consolidated nine additional prisons over the past decade. ","es":""},"links":[]},"parole":{"label":{"en":"Parole","es":""},"icon":"","influence":"limited","separate":true,"iconDesc":{"en":"","es":""},"subheader":{"en":"Early Release ","es":""},"description":{"en":"Depending on the location of their imprisonment, an inmate can appeal to a state or local parole board to serve out the rest of their sentence through community service and other active projects. The parolee is still subject to close monitoring and must follow a certain set of conditions for one to four years. ","es":""},"links":[{"en":"Arrest Type vs Sentencing Type","es":""}]},"release":{"label":{"en":"Release","es":""},"core":"true","influence":"limited","separate":true,"icon":"agreement.svg","iconDesc":{"en":"","es":""},"subheader":{"en":"Re-entering Society","es":""},"description":{"en":"When inmates finish serving their sentence, they are re-released back into the \\"real world\\". However, the effects of incarceration and a criminal record can have long lasting repercussions. Without adequate support from friends or family, former inmates have greater difficulty finding housing, employment, education and other resources essential to stability and long-term prosperity. ","es":""},"links":[{"en":"Race vs Sentencing Type","es":""},{"en":"Time vs Charge Type","es":""}]},"rehab":{"label":{"en":"Rehabilitation","es":""},"core":true,"influence":"independent","separate":true,"icon":"people.svg","iconDesc":{"en":"","es":""},"subheader":{"en":"Staying out of the courts ","es":""},"description":{"en":"Rehabilitation helps keep people from re-offending after they serve their sentences. This typically includes access to important resources such as skills training, housing, and mental health support, as well as emotional support from friends, family and members of the community. There are several non-profits in Washtenaw County providing re-entry services for returning inmates. For a list of Michigan-based reentry resources, please visit Michigan 211 website at https://www.navigateresources.net/call/. ","es":""},"links":[{"en":"Race vs Sentencing Type","es":""},{"en":"Arrest Type vs Sentencing Type","es":""}]},"recidivism":{"label":{"en":"Recidivism","es":""},"core":true,"influence":"independent","separate":true,"icon":"stamped-paper.svg","iconDesc":{"en":"","es":""},"subheader":{"en":"Why do people re-offend? ","es":""},"description":{"en":"Individuals who complete their sentences are at risk of recidivism, or a relapse into criminal behavior. Social determinants play a large role in recidivism-- the risk is especially high for people who re-enter society without having their crucial housing, employment and social needs met. Having a criminal record can prevent someone from signing an apartment lease, securing a bank loan, or getting a well-paying job, significantly diminishing their long-term financial prospects and quality of life. For these people, it may be easy to slip back into criminal activity, especially without adequate support from friends, family, and the community. ","es":""},"links":[{"en":"Race vs Sentencing Type","es":""},{"en":"Arrest Type vs Sentencing Type","es":""},{"en":"Habitual Offender Labeling vs Race","es":""}]}}');const{getNode:yc}=al();var bc={name:"Flowchart",components:{VueFlow:Gl,CustomNode:tc,CustomEdge:Fu,NodeTakeover:gc},data(){return{showTakeover:!1,currentNode:null,nodeTypes:{customNode:tc,connectionMode:oa.Loose},elements:[{id:"1",position:{x:550,y:0},data:{txtId:"social",bottomThirds:!0}},{id:"2",position:{x:400,y:150},data:{txtId:"initial-arrest"}},{id:"3",position:{x:700,y:150},data:{txtId:"warrent-request"}},{id:"4",position:{x:550,y:400},data:{txtId:"referral",topThirds:!0}},{id:"5",position:{x:550,y:550},data:{txtId:"assignment",bottomThirds:!0}},{id:"6",position:{x:350,y:400},data:{txtId:"rejection"}},{id:"7",position:{x:400,y:800},data:{txtId:"warrent-arrest"}},{id:"8",position:{x:700,y:750},data:{txtId:"diversion"}},{id:"9",position:{x:550,y:1050},data:{txtId:"arraignment",topThirds:!0,bottomThirds:!0}},{id:"10",position:{x:700,y:900},data:{txtId:"speciality"}},{id:"11",position:{x:700,y:1200},data:{txtId:"plea"}},{id:"12",position:{x:400,y:1200},data:{txtId:"trial"}},{id:"13",position:{x:100,y:1200},data:{txtId:"aquittal-dismissal"}},{id:"14",position:{x:550,y:1450},data:{txtId:"conviction",topThirds:!0,leftThirds:!0}},{id:"15",position:{x:300,y:1375},data:{txtId:"fines"}},{id:"16",position:{x:180,y:1450},data:{txtId:"community-service"}},{id:"17",position:{x:50,y:1525},data:{txtId:"probation"}},{id:"18",position:{x:550,y:1750},data:{txtId:"incarceration"}},{id:"19",position:{x:550,y:1900},data:{txtId:"parole"}},{id:"20",position:{x:550,y:2050},data:{txtId:"release",topThirds:!0,bottomThirds:!0}},{id:"21",position:{x:400,y:2200},data:{txtId:"rehab"}},{id:"22",position:{x:700,y:2200},data:{txtId:"recidivism"}},{id:"e1-3",source:"1",target:"2",sourceHandle:"bottomLeft",targetHandle:"topCenter"},{id:"e1-2",source:"1",target:"3",sourceHandle:"bottomRight",targetHandle:"topCenter"},{id:"e2-4",source:"2",target:"4",sourceHandle:"bottomCenter",targetHandle:"topLeft"},{id:"e3-4",source:"3",target:"4",sourceHandle:"bottomCenter",targetHandle:"topRight"},{id:"e4-5",source:"4",target:"5",sourceHandle:"bottomCenter",targetHandle:"topCenter"},{id:"e4-6",source:"4",target:"6",sourceHandle:"leftCenter",targetHandle:"rightCenter"},{id:"e5-7",source:"5",target:"7",sourceHandle:"bottomLeft",targetHandle:"topCenter"},{id:"e5-8",source:"5",target:"8",sourceHandle:"bottomRight",targetHandle:"topCenter"},{id:"e5-9",source:"5",target:"9",sourceHandle:"bottomCenter",targetHandle:"topCenter"},{id:"e7-9",source:"7",target:"9",sourceHandle:"bottomCenter",targetHandle:"topLeft"},{id:"e8-10",source:"8",target:"10",sourceHandle:"bottomCenter",targetHandle:"topCenter"},{id:"e9-10",source:"10",target:"9",sourceHandle:"bottomCenter",targetHandle:"topRight"},{id:"e9-11",source:"9",target:"11",sourceHandle:"bottomRight",targetHandle:"topCenter"},{id:"e9-12",source:"9",target:"12",sourceHandle:"bottomLeft",targetHandle:"topCenter"},{id:"e12-13",source:"12",target:"13",sourceHandle:"leftCenter",targetHandle:"rightCenter"},{id:"e11-14",source:"11",target:"14",sourceHandle:"bottomCenter",targetHandle:"topRight"},{id:"e12-14",source:"12",target:"14",sourceHandle:"bottomCenter",targetHandle:"topLeft"},{id:"e14-15",source:"14",target:"15",sourceHandle:"leftTop",targetHandle:"rightCenter"},{id:"e14-16",source:"14",target:"16",sourceHandle:"leftCenter",targetHandle:"rightCenter"},{id:"e14-17",source:"14",target:"17",sourceHandle:"leftBottom",targetHandle:"rightCenter"},{id:"e14-18",source:"14",target:"18",sourceHandle:"bottomCenter",targetHandle:"topCenter"},{id:"e18-19",source:"18",target:"19",sourceHandle:"bottomLeft",targetHandle:"topCenter"},{id:"e19-20",source:"19",target:"20",sourceHandle:"bottomCenter",targetHandle:"topLeft"},{id:"e18-20",source:"18",target:"20",sourceHandle:"bottomRight",targetHandle:"topRight"},{id:"e20-21",source:"20",target:"21",sourceHandle:"bottomLeft",targetHandle:"topCenter"},{id:"e20-22",source:"20",target:"22",sourceHandle:"bottomRight",targetHandle:"topCenter"}]}},methods:{openTakeover(e){this.currentNode=e,this.showTakeover=!0},closeTakeover(){this.showTakeover=!1}},mounted(){for(var e in this.elements){var t=this.elements[e];if(null!=t.position){var n=t.data.txtId;t.type="customNode",t.draggable=!1,mc[n]||console.log("could not find: "+n),t.data.content=mc[n],t.data.txtId=n,t.events={click:e=>{this.openTakeover(e.node.data.content)}}}else t.markerEnd=ia.ArrowClosed}}};const wc=(0,Vu.A)(bc,[["render",u]]);var xc=wc,kc={name:"Context",components:{Flowchart:xc}};const _c=(0,Vu.A)(kc,[["render",r],["__scopeId","data-v-4c6d43b3"]]);var Ec=_c}}]);
//# sourceMappingURL=641.e86a5709.js.map